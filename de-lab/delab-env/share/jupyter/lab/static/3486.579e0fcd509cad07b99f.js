(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[3486],{95318:e=>{function t(e){return e&&e.__esModule?e:{default:e}}e.exports=t,e.exports.__esModule=true,e.exports.default=e.exports},20862:(e,t,r)=>{var l=r(61160).default;function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(s=function e(l){return l?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||l(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=s(t);if(r&&r.has(e)){return r.get(e)}var i={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;if(a&&(a.get||a.set)){Object.defineProperty(i,o,a)}else{i[o]=e[o]}}}i["default"]=e;if(r){r.set(e,i)}return i}e.exports=i,e.exports.__esModule=true,e.exports.default=e.exports},61160:e=>{function t(r){"@babel/helpers - typeof";return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=true,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=true,e.exports.default=e.exports},35996:(e,t,r)=>{"use strict";var l;var s=r(95318);var i=r(20862);l={value:true};t.Z=void 0;var n=i(r(77865));var o=s(r(2108));var a=(0,o.default)(n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=a},2108:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return l.createSvgIcon}});var l=r(65181)},20433:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var l=r(81253);var s=r(22122);var i=r(77865);var n=r(45697);var o=r(86010);var a=r(59693);var d=r(61083);var c=r(79895);var u=r(63786);const h=(0,u.Z)(i.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined");const p=(0,u.Z)(i.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined");const g=(0,u.Z)(i.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");const f=(0,u.Z)(i.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");const m=(0,u.Z)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var v=r(17812);var C=r(93871);var D=function e(t){var r=t.palette.type==="light"?a._j:a.$n;var l=t.palette.type==="light"?a.$n:a._j;return{root:(0,s.Z)({},t.typography.body2,{borderRadius:t.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:r(t.palette.success.main,.6),backgroundColor:l(t.palette.success.main,.9),"& $icon":{color:t.palette.success.main}},standardInfo:{color:r(t.palette.info.main,.6),backgroundColor:l(t.palette.info.main,.9),"& $icon":{color:t.palette.info.main}},standardWarning:{color:r(t.palette.warning.main,.6),backgroundColor:l(t.palette.warning.main,.9),"& $icon":{color:t.palette.warning.main}},standardError:{color:r(t.palette.error.main,.6),backgroundColor:l(t.palette.error.main,.9),"& $icon":{color:t.palette.error.main}},outlinedSuccess:{color:r(t.palette.success.main,.6),border:"1px solid ".concat(t.palette.success.main),"& $icon":{color:t.palette.success.main}},outlinedInfo:{color:r(t.palette.info.main,.6),border:"1px solid ".concat(t.palette.info.main),"& $icon":{color:t.palette.info.main}},outlinedWarning:{color:r(t.palette.warning.main,.6),border:"1px solid ".concat(t.palette.warning.main),"& $icon":{color:t.palette.warning.main}},outlinedError:{color:r(t.palette.error.main,.6),border:"1px solid ".concat(t.palette.error.main),"& $icon":{color:t.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.success.main},filledInfo:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.info.main},filledWarning:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.warning.main},filledError:{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}};var _={success:i.createElement(h,{fontSize:"inherit"}),warning:i.createElement(p,{fontSize:"inherit"}),error:i.createElement(g,{fontSize:"inherit"}),info:i.createElement(f,{fontSize:"inherit"})};var w=i.createElement(m,{fontSize:"small"});var E=i.forwardRef((function e(t,r){var n=t.action,a=t.children,d=t.classes,u=t.className,h=t.closeText,p=h===void 0?"Close":h,g=t.color,f=t.icon,m=t.iconMapping,D=m===void 0?_:m,E=t.onClose,b=t.role,O=b===void 0?"alert":b,M=t.severity,y=M===void 0?"success":M,W=t.variant,x=W===void 0?"standard":W,A=(0,l.Z)(t,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return i.createElement(c.Z,(0,s.Z)({role:O,square:true,elevation:0,className:(0,o.Z)(d.root,d["".concat(x).concat((0,C.Z)(g||y))],u),ref:r},A),f!==false?i.createElement("div",{className:d.icon},f||D[y]||_[y]):null,i.createElement("div",{className:d.message},a),n!=null?i.createElement("div",{className:d.action},n):null,n==null&&E?i.createElement("div",{className:d.action},i.createElement(v.Z,{size:"small","aria-label":p,title:p,color:"inherit",onClick:E},w)):null)}));false?0:void 0;const b=(0,d.Z)(D,{name:"MuiAlert"})(E)},23642:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FriendlyDragDrop=t.DragDropPanel=t.DragPanel=t.DragDropPanelBase=t.DropPanel=t.findChild=t.belongsToUs=t.MIME_INDEX=void 0;const l=r(50497);const s=r(91100);const i=r(9004);const n="jp-DropPanel";const o="jp-DragPanel";const a="jp-mod-dragHandle";const d="jp-DragPanel-dragHandle";const c="jp-mod-dropTarget";t.MIME_INDEX="application/vnd.jupyter.dragindex";const u=5;function h(e,t,r){let l=e;while(l&&!l.classList.contains(t)){l=l.parentElement}return!!l&&l===r}t.belongsToUs=h;function p(e,t){let r=null;let l=Array.isArray(e);let s=t=>{if(l){return e.indexOf(t)>-1}else{return t.parentElement===e}};let i=t;while(i&&i!==e){if(s(i)){r=i;break}i=i.parentElement}return r}t.findChild=p;class g extends l.Panel{constructor(e={}){super(e);this.acceptDropsFromExternalSource=e.acceptDropsFromExternalSource===true;this.addClass(n)}handleEvent(e){switch(e.type){case"p-dragenter":this._evtDragEnter(e);break;case"p-dragleave":this._evtDragLeave(e);break;case"p-dragover":this._evtDragOver(e);break;case"p-drop":this.evtDrop(e);break;default:break}}validateSource(e){return this.acceptDropsFromExternalSource||e.source===this}findDropTarget(e,r){if(!r.hasData(t.MIME_INDEX)){return null}return p(this.node,e)}evtDrop(e){let t=e.target;while(t&&t.parentElement){if(t.classList.contains(c)){t.classList.remove(c);break}t=t.parentElement}if(!t||!h(t,n,this.node)){return}if(!this.validateSource(e)){e.dropAction="none";e.preventDefault();e.stopPropagation();return}this.processDrop(t,e)}onAfterAttach(e){let t=this.node;t.addEventListener("p-dragenter",this);t.addEventListener("p-dragleave",this);t.addEventListener("p-dragover",this);t.addEventListener("p-drop",this)}onBeforeDetach(e){let t=this.node;t.removeEventListener("p-dragenter",this);t.removeEventListener("p-dragleave",this);t.removeEventListener("p-dragover",this);t.removeEventListener("p-drop",this)}_evtDragEnter(e){if(!this.validateSource(e)){return}let t=this.findDropTarget(e.target,e.mimeData);if(t===null){return}this._clearDropTarget();t.classList.add(c);e.preventDefault();e.stopPropagation()}_evtDragLeave(e){e.preventDefault();e.stopPropagation();this._clearDropTarget()}_evtDragOver(e){if(!this.validateSource(e)){return}this._clearDropTarget();let t=this.findDropTarget(e.target,e.mimeData);if(t===null){return}t.classList.add(c);e.preventDefault();e.stopPropagation();e.dropAction=e.proposedAction}_clearDropTarget(){let e=this.node.getElementsByClassName(c);if(e.length){e[0].classList.remove(c)}}}t.DropPanel=g;class f extends g{constructor(e={}){super(e);this.drag=null;this.dragHandleClass=a;this._clickData=null;this.childrenAreDragHandles=e.childrenAreDragHandles===true;this.addClass(o)}dispose(){this.drag=null;this._clickData=null;super.dispose()}handleEvent(e){switch(e.type){case"mousedown":this._evtDragMousedown(e);break;case"mouseup":this._evtDragMouseup(e);break;case"mousemove":this._evtDragMousemove(e);break;default:super.handleEvent(e);break}}findDragTarget(e){return p(this.node,e)}getDragImage(e){let t=this.findDragTarget(e);if(t){return t.cloneNode(true)}return null}onDragComplete(e){this.drag=null}onAfterAttach(e){let t=this.node;t.addEventListener("mousedown",this);super.onAfterAttach(e)}onBeforeDetach(e){let t=this.node;t.removeEventListener("click",this);t.removeEventListener("dblclick",this);document.removeEventListener("mousemove",this,true);document.removeEventListener("mouseup",this,true);super.onBeforeDetach(e)}startDrag(e,t,r){let l=this.getDragImage(e);this.drag=new i.Drag({dragImage:l||undefined,mimeData:new s.MimeData,supportedActions:"all",proposedAction:"copy",source:this});this.addMimeData(e,this.drag.mimeData);this.drag.start(t,r).then(this.onDragComplete.bind(this));document.removeEventListener("mousemove",this,true);document.removeEventListener("mouseup",this,true)}_findDragHandle(e){let t=null;if(this.childrenAreDragHandles){if(h(e,o,this.node)){t=e}}else{let r=e;while(r&&r!==this.node){if(r.classList.contains(this.dragHandleClass)){t=r;break}r=r.parentElement}if(t!==null&&!h(t,o,this.node)){t=null}}return t}_evtDragMousedown(e){let t=e.target;let r=this._findDragHandle(t);if(r===null){return}if(e.button===0){this._clickData={pressX:e.clientX,pressY:e.clientY,handle:r};document.addEventListener("mouseup",this,true);document.addEventListener("mousemove",this,true);e.preventDefault()}}_evtDragMouseup(e){if(e.button!==0||!this.drag){document.removeEventListener("mousemove",this,true);document.removeEventListener("mouseup",this,true);this.drag=null;return}e.preventDefault();e.stopPropagation()}_evtDragMousemove(e){if(this.drag){return}e.preventDefault();e.stopPropagation();let t=this._clickData;if(!t){throw new Error("Missing drag data")}let r=Math.abs(e.clientX-t.pressX);let l=Math.abs(e.clientY-t.pressY);if(r<u&&l<u){return}this.startDrag(t.handle,e.clientX,e.clientY);this._clickData=null}}t.DragDropPanelBase=f;class m extends f{constructor(e={}){super(e)}processDrop(e,t){}findDropTarget(e,t){return null}}t.DragPanel=m;class v extends f{move(e,t){if(t!==e){if(t>e){t-=1}this.insertWidget(t,this.widgets[e])}}getIndexOfChildNode(e,t){t=t||this.layout;for(let r=0;r<t.widgets.length;r++){if(t.widgets[r].node===e){return r}}return null}addMimeData(e,r){let l=this.findDragTarget(e);let s=this.getIndexOfChildNode(l);if(s!==null){r.setData(t.MIME_INDEX,s)}}processDrop(e,r){if(!g.isValidAction(r.supportedActions,"move")||r.proposedAction==="none"){r.dropAction="none";r.preventDefault();r.stopPropagation();return}if(!this.validateSource(r)){throw new Error("Invalid source!")}let l=r.mimeData.getData(t.MIME_INDEX);let s=this.getIndexOfChildNode(e);if(s===null){return}this.move(l,s);r.preventDefault();r.stopPropagation();r.dropAction="move"}}t.DragDropPanel=v;(function(e){function t(e,t){switch(e){case"all":return true;case"link-move":return t==="move"||t==="link";case"copy-move":return t==="move"||t==="copy";case"copy-link":return t==="link"||t==="copy";default:return t===e}}e.isValidAction=t})(g=t.DropPanel||(t.DropPanel={}));(function(e){function t(e){e.addClass(a)}e.makeHandle=t;function r(e){e.removeClass(a)}e.unmakeHandle=r;function s(){let e=new l.Widget;e.addClass(d);t(e);return e}e.createDefaultHandle=s})(m=t.DragPanel||(t.DragPanel={}));class C extends v{static makeGroup(){const e=this._counter++;C._groups[e]=[];return e}setFriendlyGroup(e){this._groupId=e;C._groups[e].push(this)}addToFriendlyGroup(e){e.setFriendlyGroup(this._groupId)}get friends(){if(this._groupId===undefined){throw new Error("Uninitialized drag-drop group")}return C._groups[this._groupId]}getIndexOfChildNode(e,t){const r=this.friends;for(let l of r){if(!h(e,n,l.node)){continue}let t=p(l.node,e);if(t!==null){return[l.friends.indexOf(l),super.getIndexOfChildNode(t,l.layout)]}}return null}validateSource(e){if(this.acceptDropsFromExternalSource){return this.friends.indexOf(e.source)!==-1}return super.validateSource(e)}}t.FriendlyDragDrop=C;C._counter=0;C._groups={}},54007:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CellMergeWidget=t.CELLMERGE_CLASS=void 0;const l=r(59086);const s=r(50497);const i=r(3788);const n=r(23642);const o=r(20111);const a=r(28439);const d=r(63127);const c=r(7842);const u=r(5168);const h=r(17513);const p=r(69156);t.CELLMERGE_CLASS="jp-Cell-merge";const g="jp-Merge-cellHeader";const f="jp-Merge-cellHeader-title";const m="jp-mod-todelete";const v="jp-mod-clearoutputs";const C="jp-Merge-clearOutput-toggle";const D="jp-Merge-delete-cell-toggle";const _="jp-Cellrow-executionCount";const w="jp-Cellrow-source";const E="jp-Cellrow-metadata";const b="jp-Cellrow-outputs";const O="jp-conflicted-outputs";const M="jp-conflicted-outputs-button";class y extends s.Panel{constructor(e,r,l){super();this.sourceView=null;this.metadataView=null;this.outputViews=null;this.addClass(t.CELLMERGE_CLASS);this._model=e;this._rendermime=r;this.mimetype=l;this.init()}static createMergeView(e,t,r,l,s=false){let i=null;if(r instanceof d.StringDiffModel){i=o.createNbdimeMergeView(t,e,r,s)}return i}static getOutputs(e,t){let r=[];for(let l of e){if(t===true){if(l.base){r.push(l.base)}}else{if(l.remote){r.push(l.remote)}}}return r}validateMerged(e){if(this.sourceView&&this.sourceView instanceof o.MergeView){let t=this.sourceView.getMergedValue();let r=a.splitLines(t);if(e.source!==r){e.source=r}}if(this.metadataView&&this.metadataView instanceof o.MergeView){let t=this.metadataView.getMergedValue();if(JSON.stringify(e.metadata)!==t){e.metadata=JSON.parse(t)}}if(l.isCode(e)&&this.outputViews){let t=this.outputViews.merged;let r=t.toJSON();e.outputs=r}return e}init(){let e=this.model;let t=p.MERGE_CLASSES.slice();this.createHeader();if(e.merged.unchanged&&e.local&&e.local.unchanged&&e.remote&&e.remote.unchanged){this.addClass(p.UNCHANGED_MERGE_CLASS)}let r=e.local&&e.local.added;let l=e.local&&e.local.deleted;let n=e.remote&&e.remote.added;let o=e.remote&&e.remote.deleted;if(r&&!n||l&&!o){this.headerTitle=r?"Cell added locally":"Cell deleted locally"}else if(n&&!r||o&&!l){this.headerTitle=n?"Cell added remotely":"Cell deleted remotely"}if(e.local===null||e.remote===null||e.local.unchanged&&e.remote.unchanged&&e.merged.unchanged||e.local.added!==e.remote.added||e.local.deleted&&e.remote.unchanged||e.local.unchanged&&e.remote.deleted||e.local.added&&e.agreedCell||e.local.deleted&&e.remote.deleted){t=t.slice(1,3);let i=c.CellDiffWidget.createView(e.merged.source,e.merged,t,this._rendermime);if(r&&!n||l&&!o){this.addClass(p.ONEWAY_LOCAL_CLASS)}else if(n&&!r||o&&!l){this.addClass(p.ONEWAY_REMOTE_CLASS)}else if(l&&o){this.headerTitle="Deleted on both sides";this.addClass(p.TWOWAY_DELETION_CLASS)}else if(r&&n){this.headerTitle="Added on both sides";this.addClass(p.TWOWAY_ADDITION_CLASS)}i.addClass(w);this.addWidget(i);if(a.hasEntries(e.merged.outputs)){let r=new s.Panel;for(let l of e.merged.outputs){i=c.CellDiffWidget.createView(l,e.merged,t,this._rendermime);r.addWidget(i)}r.addClass(b);this.addWidget(r)}}else{let r=e.getExecutionCountDecision();if(r&&r.action==="clear"){let e=new u.FlexPanel({direction:"left-to-right"});e.addClass(_);let t=new s.Widget;t.node.innerText="Execution count will be cleared.";e.addWidget(t);this.addWidget(e)}let l=null;if(e.local&&e.local.source.unchanged&&e.remote&&e.remote.source.unchanged&&e.merged.source.unchanged){l=c.CellDiffWidget.createView(e.merged.source,e.merged,t,this._rendermime)}else{l=y.createMergeView(e.local?e.local.source:null,e.remote?e.remote.source:null,e.merged.source,t)}if(l===null){throw new Error("Was not able to create merge view for cell!")}this.sourceView=l;l.addClass(w);this.addWidget(l);let n=false;let o=false;for(let t of e.subModels){if(!t||t.deleted){continue}n=n||!!t.metadata&&!t.metadata.unchanged;if(t.outputs&&t.outputs.length>0){for(let e of t.outputs){o=o||!e.unchanged}}}if(n){let r=y.createMergeView(e.local?e.local.metadata:null,e.remote?e.remote.metadata:null,e.merged.metadata,t,true);if(r===null){throw new Error("Was not able to create merge view for cell metadata!")}this.metadataView=r;let l=new s.Panel;l.addWidget(r);let n="Metadata changed";let o=new i.CollapsiblePanel(l,n,true);o.addClass(E);this.addWidget(o)}if(o||a.hasEntries(e.merged.outputs)){let t=y.getOutputs(e.local?e.local.outputs:[],true);let r=y.getOutputs(e.local?e.local.outputs:[]);let l=y.getOutputs(e.remote?e.remote.outputs:[]);let n=y.getOutputs(e.merged.outputs);let a=new h.RenderableOutputsMergeView(n,p.MERGE_CLASSES,this._rendermime,t,l,r);this.outputViews=a;let d=o?e.outputsConflicted?"Outputs conflicted":"Outputs changed":"Outputs unchanged";let c=new i.CollapsiblePanel(a,d,!o);c.addClass(b);if(e.outputsConflicted){c.addClass(O);let t=new s.Widget;t.addClass(M);let r=t.node;let l=document.createElement("button");l.onclick=r=>{if(r.button!==0){return}e.clearOutputConflicts();c.removeClass(O);c.headerTitle="Outputs changed";r.preventDefault();r.stopPropagation();t.parent=null};l.innerText="Mark resolved";r.appendChild(l);c.header.insertWidget(1,t)}this.addWidget(c)}}}createHeader(){let e=new s.Panel;e.addClass(g);let t=n.DragPanel.createDefaultHandle();e.addWidget(t);t=new s.Widget;this.headerTitleWidget=t;t.addClass(f);e.addWidget(t);if(a.hasEntries(this.model.merged.outputs)){let t=this._createClearOutputToggle();e.addWidget(t)}let r=this._createDeleteToggle();e.addWidget(r);this.addWidget(e);this.header=e}_createClearOutputToggle(){let{checkbox:e,widget:t}=p.createCheckbox(this.model.clearOutputs,"Clear outputs");if(this.model.clearOutputs){this.addClass(v)}e.onchange=t=>{this.model.clearOutputs=e.checked;this.toggleClass(v,e.checked)};this.model.clearOutputsChanged.connect(((t,r)=>{e.checked=r;this.toggleClass(v,r)}));t.addClass(C);return t}_createDeleteToggle(){let{checkbox:e,widget:t}=p.createCheckbox(this.model.deleteCell,"Delete cell");if(this.model.deleteCell){this.addClass(m)}e.onchange=t=>{this.model.deleteCell=e.checked;this.toggleClass(m,e.checked)};this.model.deleteCellChanged.connect(((t,r)=>{e.checked=r;this.toggleClass(m,r)}));t.addClass(D);return t}set headerTitle(e){this.headerTitleWidget.node.innerText=e}get model(){return this._model}}t.CellMergeWidget=y},69156:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createCheckbox=t.MERGE_CLASSES=t.TWOWAY_DELETION_CLASS=t.TWOWAY_ADDITION_CLASS=t.ONEWAY_REMOTE_CLASS=t.ONEWAY_LOCAL_CLASS=t.UNCHANGED_MERGE_CLASS=void 0;const l=r(50497);t.UNCHANGED_MERGE_CLASS="jp-Merge-unchanged";t.ONEWAY_LOCAL_CLASS="jp-Merge-oneway-local";t.ONEWAY_REMOTE_CLASS="jp-Merge-oneway-remote";t.TWOWAY_ADDITION_CLASS="jp-Merge-twoway-addition";t.TWOWAY_DELETION_CLASS="jp-Merge-twoway-deletion";const s="jp-Merge-base";const i="jp-Merge-local";const n="jp-Merge-remote";const o="jp-Merge-merged";t.MERGE_CLASSES=[s,i,n,o];function a(e,t,r=false){let s=document.createElement("input");s.setAttribute("type","checkbox");s.checked=e;s.indeterminate=r;let i=new l.Widget;let n=document.createElement("label");n.innerHTML=t;n.insertBefore(s,n.childNodes[0]);i.node.appendChild(n);return{checkbox:s,widget:i}}t.createCheckbox=a},83285:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ChunkedCellsWidget=t.CellsDragDrop=void 0;const l=r(50497);const s=r(18987);const i=r(23642);const n="jp-merge-celldragdrop";const o="jp-conflicted-cells-button";const a="jp-conflicted-cells-header";const d="jp-conflicted-cells";class c extends i.FriendlyDragDrop{constructor(e){super(e);this._moved=new s.Signal(this);this.addClass(n)}move(e,t){let r=e[0];let l=t[0];let s=e[1];let i=t[1];let n=i;if(r===l){if(i>s){n-=1;t[1]=n}else if(s===i){return}}let o=this.friends[l];let a=this.friends[r];const d=a.widgets[s];o.insertWidget(n,d);this._moved.emit({widget:d,oldParent:a,before:n>0?o.widgets[n-1]:null,after:n<o.widgets.length?o.widgets[n+1]:null})}get moved(){return this._moved}}t.CellsDragDrop=c;class u extends l.Panel{constructor(){super();this._resolved=new s.Signal(this);this.addClass(d);this.header=new l.Widget;this.header.addClass(a);this.header.node.innerText="Conflicting cell operations";let e=document.createElement("button");e.innerText="Resolve Conflict";e.onclick=this.onResolve.bind(this);e.className=o;this.header.node.appendChild(e);this.addWidget(this.header);this.cells=new c;this.addWidget(this.cells)}onResolve(e){for(let t of this.cells.widgets){let e=t.model;if(e.onesided&&e.conflicted){for(let t of e.decisions){t.conflict=false}}}this.removeClass(d);this.header.parent=null;this.header.dispose();this._resolved.emit(undefined)}dispose(){this.cells.parent=null;this.cells=null;if(this.header){this.header.parent=null}this.header=null;super.dispose()}get resolved(){return this._resolved}}t.ChunkedCellsWidget=u},28041:function(e,t,r){"use strict";var l=this&&this.__createBinding||(Object.create?function(e,t,r,l){if(l===undefined)l=r;Object.defineProperty(e,l,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,l){if(l===undefined)l=r;e[l]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!t.hasOwnProperty(r))l(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r(54007),t);s(r(1226),t);s(r(29281),t)},29281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MetadataMergeWidget=void 0;const l=r(50497);const s=r(20111);const i=r(3788);const n="jp-Metadata-diff";class o extends l.Panel{constructor(e){super();this._model=e;this.addClass(n);this.init()}init(){let e=this._model;this.view=s.createNbdimeMergeView(e.remote,e.local,e.merged);let t=new i.CollapsiblePanel(this.view,"Notebook metadata changed",true);this.addWidget(t)}validateMerged(e){let t=this.view.getMergedValue();if(JSON.stringify(e)!==t){e=JSON.parse(t)}return e}}t.MetadataMergeWidget=o},1226:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NotebookMergeWidget=void 0;const l=r(50497);const s=r(28439);const i=r(5168);const n=r(29281);const o=r(54007);const a=r(69156);const d=r(83285);const c="jp-Notebook-merge";const u="jp-Merge-notebook-controls";class h extends l.Panel{constructor(e,t){super();this.metadataWidget=null;this._model=e;this._rendermime=t;this.addClass(c)}init(){let e=this._model;let t=this._rendermime;let r=Promise.resolve();this.addWidget(new p(e));r=r.then((()=>{if(e.metadata){this.metadataWidget=new n.MetadataMergeWidget(e.metadata);this.addWidget(this.metadataWidget)}}));r=r.then((()=>{this.cellContainer=new d.CellsDragDrop({acceptDropsFromExternalSource:true});this.cellContainer.setFriendlyGroup(d.CellsDragDrop.makeGroup());this.cellContainer.moved.connect(this.onDragDropMove,this);this.addWidget(this.cellContainer)}));this.cellWidgets=[];let l=null;for(let s of e.cells){r=r.then((()=>new Promise((r=>{let i=new o.CellMergeWidget(s,t,e.mimetype);this.cellWidgets.push(i);if(s.onesided&&s.conflicted){if(l===null){l=new d.ChunkedCellsWidget;l.cells.moved.connect(this.onDragDropMove,this);l.resolved.connect(this.onChunkResolved,this);this.cellContainer.addToFriendlyGroup(l.cells)}l.cells.addWidget(i)}else{if(l!==null){this.cellContainer.addWidget(l);l=null}this.cellContainer.addWidget(i)}requestAnimationFrame((()=>{r()}))}))))}r=r.then((()=>{if(l!==null){this.cellContainer.addWidget(l)}}));return r}validateMerged(e){let t=s.deepCopy(e);if(this.metadataWidget){t.metadata=this.metadataWidget.validateMerged(e.metadata)}let r=0;for(let l of this.cellWidgets){if(!l.model.deleteCell){t.cells[r]=l.validateMerged(e.cells[r]);++r}}return t}get model(){return this._model}onDragDropMove(e,t){let{widget:r,oldParent:l,before:s,after:i}=t;let n=this._model.cells.indexOf(r.model);let o;if(i){o=this._model.cells.indexOf(i.model)}else if(s){o=this._model.cells.indexOf(s.model)+1}else{throw new Error("Need either before or after")}if(o>n){o-=1}this._model.cells.splice(o,0,this._model.cells.splice(n,1)[0]);if(l.widgets.length===0){let e=l.parent;e.onResolve()}if(l!==this.cellContainer&&r.parent===this.cellContainer){for(let e of r.model.decisions){e.conflict=false}}}onChunkResolved(e,t){let r=this.cellContainer.widgets.indexOf(e);while(e.cells.widgets.length>0){this.cellContainer.insertWidget(r++,e.cells.widgets[0])}e.parent=null;e.dispose()}}t.NotebookMergeWidget=h;class p extends i.FlexPanel{constructor(e){super({direction:"left-to-right"});this.model=e;this.addClass(u);let t=false;for(let r of e.cells){if(s.hasEntries(r.merged.outputs)){t=true;break}}if(t){this.init_controls()}}init_controls(){let e=a.createCheckbox(false,"Clear <i>all</i> cell outputs");this.clearOutputsToggle=e.checkbox;this.addWidget(e.widget);e=a.createCheckbox(false,"Clear <i>conflicted</i> cell outputs");this.clearConflictedOutputsToggle=e.checkbox;this.addWidget(e.widget);this.updateOutputsToggles();this.connectOutputsToggles()}connectOutputsToggles(){for(let e of this.model.cells){if(s.hasEntries(e.merged.outputs)){e.clearOutputsChanged.connect(this.updateOutputsToggles,this)}}this.clearOutputsToggle.addEventListener("change",this);this.clearConflictedOutputsToggle.addEventListener("change",this)}disconnectOutputsToggles(){for(let e of this.model.cells){if(s.hasEntries(e.merged.outputs)){e.clearOutputsChanged.disconnect(this.updateOutputsToggles,this)}}this.clearOutputsToggle.removeEventListener("change",this);this.clearConflictedOutputsToggle.removeEventListener("change",this)}handleEvent(e){switch(e.type){case"change":if(e.currentTarget===this.clearOutputsToggle){this.onClearAllOutputsChanged()}else if(e.currentTarget===this.clearConflictedOutputsToggle){this.onClearConflictedOutputsChanged()}break;default:break}}onClearAllOutputsChanged(){this.disconnectOutputsToggles();try{let e=this.clearOutputsToggle.checked;for(let t of this.model.cells){if(s.hasEntries(t.merged.outputs)){t.clearOutputs=e}}}finally{this.updateOutputsToggles();this.connectOutputsToggles()}}onClearConflictedOutputsChanged(){this.disconnectOutputsToggles();try{let e=this.clearConflictedOutputsToggle.checked;for(let t of this.model.cells){if(s.hasEntries(t.merged.outputs)&&t.outputsConflicted){t.clearOutputs=e}}}finally{this.updateOutputsToggles();this.connectOutputsToggles()}}updateOutputsToggles(){let e=undefined;let t=undefined;for(let r of this.model.cells){if(s.hasEntries(r.merged.outputs)){let l=r.clearOutputs;if(e===null){}else if(e===undefined){e=l}else if(e!==l){e=null}if(r.outputsConflicted){if(t===null){}else if(t===undefined){t=l}else if(t!==l){t=null}}}if(t===null&&e===null){break}}this.clearOutputsToggle.checked=e===true;this.clearOutputsToggle.indeterminate=e===null;this.clearConflictedOutputsToggle.checked=t===true;this.clearConflictedOutputsToggle.indeterminate=t===null;this.clearConflictedOutputsToggle.disabled=t===undefined;if(t===undefined){this.clearConflictedOutputsToggle.parentElement.setAttribute("disabled","")}else{this.clearConflictedOutputsToggle.parentElement.removeAttribute("disabled")}}}},17513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RenderableOutputsMergeView=t.ReorderableOutputWidget=t.ReorderableOutputModel=void 0;const l=r(26976);const s=r(50497);const i=r(23642);const n=r(5168);const o="jp-Merge-reorder-outputs";const a="jp-Merge-dragimage-output";const d="jp-Merge-output-drop-delete";class c extends l.OutputAreaModel{insert(e,t){this.list.insert(e,t)}move(e,t){this.list.move(e,t)}remove(e){return this.list.remove(e)}}t.ReorderableOutputModel=c;class u extends l.OutputArea{onModelChanged(e,t){let r=this.layout;switch(t.type){case"move":r.insertWidget(t.newIndex,r.widgets[t.oldIndex]);break;case"remove":r.removeWidgetAt(t.oldIndex);break;default:return super.onModelChanged(e,t)}}}t.ReorderableOutputWidget=u;class h extends i.DropPanel{constructor(){super({acceptDropsFromExternalSource:true});this.callback=null}findDropTarget(e){if(e===this.node||this.node.contains(e)){return this.node}return null}processDrop(e,t){if(this.callback){this.callback(e,t)}}}class p extends i.DragDropPanel{constructor(e,t,r,s,i,n){super();this.base=null;this.remote=null;this.local=null;this.addClass(o);if(!s!==!i||!s!==!n){throw new Error("Renderable outputs merge-view either takes only merged output "+"or a full set of four output lists.")}if(s){this.base=new l.OutputAreaModel;for(let e of s){this.base.add(e)}this.remote=new l.OutputAreaModel;for(let e of i){this.remote.add(e)}this.local=new l.OutputAreaModel;for(let e of n){this.local.add(e)}}this.merged=new c;for(let l of e){this.merged.add(l)}this.rendermime=r;this.panes=[];this.init(t)}static makeOutputsDraggable(e){let t=e.layout.iter();for(let r=t.next();r!==undefined;r=t.next()){i.DragPanel.makeHandle(r)}}static get deleteDrop(){if(!p._deleteDrop){let e=new h;e.addClass(d);let t=document.createElement("i");t.className="fa fa-lg fa-trash-o";t.setAttribute("aria-hidden","true");e.node.appendChild(t);e.node.style.position="absolute";p._deleteDrop=e}return p._deleteDrop}init(e){let t=new n.FlexPanel({direction:"left-to-right",evenSizes:true});if(this.local){let r=new l.OutputArea({model:this.local,rendermime:this.rendermime});r.addClass(e[1]);t.addWidget(r);this.panes.push(r)}if(this.base){let r=new l.OutputArea({model:this.base,rendermime:this.rendermime});r.addClass(e[0]);t.addWidget(r);this.panes.push(r)}if(this.remote){let r=new l.OutputArea({model:this.remote,rendermime:this.rendermime});r.addClass(e[2]);t.addWidget(r);this.panes.push(r)}if(t.widgets.length>0){this.addWidget(t);t=new n.FlexPanel({direction:"left-to-right",evenSizes:true})}this.mergePane=new u({model:this.merged,rendermime:this.rendermime});this.mergePane.addClass(e[3]);t.addWidget(this.mergePane);this.panes.push(this.mergePane);this.addWidget(t);for(let r of this.panes){p.makeOutputsDraggable(r)}}findDragTarget(e){if(e===null){return null}for(let t of this.panes){let r=i.findChild(t.node,e);if(r!==null){return r}}return null}getIndexOfChildNode(e,t){for(let r of this.panes){let t=i.findChild(r.node,e);if(t!==null){let e=this.panes.indexOf(r);return[e,super.getIndexOfChildNode(t,r.layout)]}}return null}move(e,t){let r=e[0];let l=t[0];if(this.panes[l]!==this.mergePane){return}let s=e[1];let i=t[1];let n=i;if(r===l){if(i>s){n-=1;t[1]=n}else if(s===i){return}}let o=this.mergePane.model;let a=this.panes[r].model;if(l!==r){o.insert(n,a.get(s))}else{o.move(s,n)}p.makeOutputsDraggable(this.mergePane)}findDropTarget(e){if(e===this.mergePane.node&&this.mergePane.model.length===0){return this.mergePane.node}return i.findChild(this.mergePane.node,e)}processDrop(e,t){if(e===p.deleteDrop.node){let[e,r]=t.mimeData.getData(i.MIME_INDEX);if(this.panes[e]!==this.mergePane){return}this.mergePane.model.remove(r);t.preventDefault();t.stopPropagation();t.dropAction="move"}else if(e===this.mergePane.node&&this.mergePane.model.length===0){let e=t.mimeData.getData(i.MIME_INDEX);this.move(e,[this.panes.indexOf(this.mergePane),0]);t.preventDefault();t.stopPropagation();t.dropAction="copy"}else{super.processDrop(e,t)}}getDragImage(e){let t=this.findDragTarget(e);if(t){let e=t.cloneNode(true);e.style.width=t.offsetWidth.toString()+"px";e.classList.add(a);return e}return null}startDrag(e,t,r){super.startDrag(e,t,r);if(i.findChild(this.mergePane.node,e)){let e=p.deleteDrop;e.callback=this.processDrop.bind(this);let t=this.mergePane.node.getBoundingClientRect();e.node.style.left="0";e.node.style.width=(t.left+window.pageXOffset).toString()+"px";e.node.style.top=(t.top+window.pageYOffset).toString()+"px";e.node.style.height=t.height.toString()+"px";s.Widget.attach(e,document.body)}}onDragComplete(e){super.onDragComplete(e);if(p.deleteDrop.isAttached){s.Widget.detach(p.deleteDrop)}}}t.RenderableOutputsMergeView=p;p._deleteDrop=null}}]);
//# sourceMappingURL=3486.579e0fcd509cad07b99f.js.map?v=579e0fcd509cad07b99f