(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[7842],{67266:(e,t,i)=>{"use strict";var l=typeof JSON!=="undefined"?JSON:i(58418);var n=Array.isArray||function(e){return{}.toString.call(e)==="[object Array]"};var s=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return true};var i=[];for(var l in e){if(t.call(e,l)){i.push(l)}}return i};e.exports=function(e,t){if(!t){t={}}if(typeof t==="function"){t={cmp:t}}var i=t.space||"";if(typeof i==="number"){i=Array(i+1).join(" ")}var r=typeof t.cycles==="boolean"?t.cycles:false;var o=t.replacer||function(e,t){return t};var a=t.cmp&&function(e){return function(t){return function(i,l){var n={key:i,value:t[i]};var s={key:l,value:t[l]};return e(n,s)}}}(t.cmp);var f=[];return function e(t,u,c,d){var h=i?"\n"+new Array(d+1).join(i):"";var p=i?": ":":";if(c&&c.toJSON&&typeof c.toJSON==="function"){c=c.toJSON()}c=o.call(t,u,c);if(c===undefined){return}if(typeof c!=="object"||c===null){return l.stringify(c)}if(n(c)){var g=[];for(var m=0;m<c.length;m++){var y=e(c,m,c[m],d+1)||l.stringify(null);g.push(h+i+y)}return"["+g.join(",")+h+"]"}if(f.indexOf(c)!==-1){if(r){return l.stringify("__cycle__")}throw new TypeError("Converting circular structure to JSON")}else{f.push(c)}var D=s(c).sort(a&&a(c));var g=[];for(var m=0;m<D.length;m++){var u=D[m];var b=e(c,u,c[u],d+1);if(!b){continue}var w=l.stringify(u)+p+b;g.push(h+i+w)}f.splice(f.indexOf(c),1);return"{"+g.join(",")+h+"}"}({"":e},"",e,0)}},58418:(e,t,i)=>{"use strict";t.parse=i(51396);t.stringify=i(66177)},51396:e=>{"use strict";var t;var i;var l={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};var n;function s(e){throw{name:"SyntaxError",message:e,at:t,text:n}}function r(e){if(e&&e!==i){s("Expected '"+e+"' instead of '"+i+"'")}i=n.charAt(t);t+=1;return i}function o(){var e;var t="";if(i==="-"){t="-";r("-")}while(i>="0"&&i<="9"){t+=i;r()}if(i==="."){t+=".";while(r()&&i>="0"&&i<="9"){t+=i}}if(i==="e"||i==="E"){t+=i;r();if(i==="-"||i==="+"){t+=i;r()}while(i>="0"&&i<="9"){t+=i;r()}}e=Number(t);if(!isFinite(e)){s("Bad number")}return e}function a(){var e;var t;var n="";var o;if(i==='"'){while(r()){if(i==='"'){r();return n}else if(i==="\\"){r();if(i==="u"){o=0;for(t=0;t<4;t+=1){e=parseInt(r(),16);if(!isFinite(e)){break}o=o*16+e}n+=String.fromCharCode(o)}else if(typeof l[i]==="string"){n+=l[i]}else{break}}else{n+=i}}}s("Bad string")}function f(){while(i&&i<=" "){r()}}function u(){switch(i){case"t":r("t");r("r");r("u");r("e");return true;case"f":r("f");r("a");r("l");r("s");r("e");return false;case"n":r("n");r("u");r("l");r("l");return null;default:s("Unexpected '"+i+"'")}}function c(){var e=[];if(i==="["){r("[");f();if(i==="]"){r("]");return e}while(i){e.push(h());f();if(i==="]"){r("]");return e}r(",");f()}}s("Bad array")}function d(){var e;var t={};if(i==="{"){r("{");f();if(i==="}"){r("}");return t}while(i){e=a();f();r(":");if(Object.prototype.hasOwnProperty.call(t,e)){s('Duplicate key "'+e+'"')}t[e]=h();f();if(i==="}"){r("}");return t}r(",");f()}}s("Bad object")}function h(){f();switch(i){case"{":return d();case"[":return c();case'"':return a();case"-":return o();default:return i>="0"&&i<="9"?o():u()}}e.exports=function(e,l){var r;n=e;t=0;i=" ";r=h();f();if(i){s("Syntax error")}return typeof l==="function"?function e(t,i){var n;var s;var r=t[i];if(r&&typeof r==="object"){for(n in h){if(Object.prototype.hasOwnProperty.call(r,n)){s=e(r,n);if(typeof s==="undefined"){delete r[n]}else{r[n]=s}}}}return l.call(t,i,r)}({"":r},""):r}},66177:e=>{"use strict";var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var i;var l;var n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var s;function r(e){t.lastIndex=0;return t.test(e)?'"'+e.replace(t,(function(e){var t=n[e];return typeof t==="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function o(e,t){var n;var a;var f;var u;var c=i;var d;var h=t[e];if(h&&typeof h==="object"&&typeof h.toJSON==="function"){h=h.toJSON(e)}if(typeof s==="function"){h=s.call(t,e,h)}switch(typeof h){case"string":return r(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h){return"null"}i+=l;d=[];if(Object.prototype.toString.apply(h)==="[object Array]"){u=h.length;for(n=0;n<u;n+=1){d[n]=o(n,h)||"null"}f=d.length===0?"[]":i?"[\n"+i+d.join(",\n"+i)+"\n"+c+"]":"["+d.join(",")+"]";i=c;return f}if(s&&typeof s==="object"){u=s.length;for(n=0;n<u;n+=1){a=s[n];if(typeof a==="string"){f=o(a,h);if(f){d.push(r(a)+(i?": ":":")+f)}}}}else{for(a in h){if(Object.prototype.hasOwnProperty.call(h,a)){f=o(a,h);if(f){d.push(r(a)+(i?": ":":")+f)}}}}f=d.length===0?"{}":i?"{\n"+i+d.join(",\n"+i)+"\n"+c+"}":"{"+d.join(",")+"}";i=c;return f;default:}}e.exports=function(e,t,n){var r;i="";l="";if(typeof n==="number"){for(r=0;r<n;r+=1){l+=" "}}else if(typeof n==="string"){l=n}s=t;if(t&&typeof t!=="function"&&(typeof t!=="object"||typeof t.length!=="number")){throw new Error("JSON.stringify")}return o("",{"":e})}},8892:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.splitMergeDecisionsOnChunks=void 0;const l=i(44632);const n=i(51604);const s=i(28439);function r(e){for(let t of e){if(s.hasEntries(t)){return true}}return false}function o(e){let t=[];for(let i of e){let e=i.key;let l;t.push(e);if(i.op==="addrange"){}else if(i.op==="removerange"){l=e+i.length;t.push(l)}else if(i.op==="patch"){l=e+1;t.push(l)}}return t.filter(s.unique)}function a(e,t){let i=[];if(!Array.isArray(t)){throw new Error}let n=0;for(let r of e){if(s.valueIn(r.op,["addrange","patch"])){i.push(r)}else if(r.op==="removerange"){while(t[n]<r.key){n+=1}if(t[n]!==r.key){throw new Error}while(n<t.length-1&&t[n+1]<=r.key+r.length){i.push(l.opRemoveRange(t[n],t[n+1]-t[n]));n+=1}}else{throw new Error("Unhandled diff entry op "+r.op)}}return i}function f(e,t){let i=Array.apply(null,Array(t.length)).map(Number.prototype.valueOf,0);let l=[];for(let n=0;n<e.length;++n){let s=e[n];let o=n<e.length-1?e[n+1]:s;let a=[];for(let e=0;e<t.length;++e){let l=t[e];let n=[];while(l&&i[e]<l.length&&l[i[e]].key===s){n.push(l[i[e]]);i[e]+=1}a.push(n)}if(r(a)){let e={baseStart:s,baseEnd:o,diffs:a};l.push(e)}}return l}function u(e,t){let i=[0,e.length];for(let r of t){if(s.hasEntries(r)){let e=o(r);i=i.concat(e)}}i=i.filter(s.unique).sort();let l=[];for(let r of t){if(s.hasEntries(r)){l.push(a(r,i))}else{l.push(r)}}let n=f(i,l);return n}function c(e,t,i){if(i.length<2){return[t]}let l=[];for(let r of i){let i=t.customDiff;if(s.hasEntries(i)){if(t.localPath.length>0){i=n.pushPath(i,t.localPath)}let l=[0,e.length,r.baseStart,r.baseEnd].filter(s.unique).sort();i=a(i,l)}l.push(new n.MergeDecision(t.absolutePath.slice(),r.diffs[0],r.diffs[1],t.action,t.conflict))}return l}function d(e,t){let i=[];for(let l of t){let t=[n.buildDiffs(e,[l],"local"),n.buildDiffs(e,[l],"remote")];let s=u(e,t);i=i.concat(c(e,l,s))}return i}t.splitMergeDecisionsOnChunks=d},75004:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.labelSource=t.lineToNormalChunks=t.LineChunker=t.Chunker=t.Chunk=void 0;const l=i(28439);class n{constructor(e,t,i,l,n){this.baseFrom=e;this.baseTo=t;this.remoteFrom=i;this.remoteTo=l;this.sources=n?[n]:[]}inEdit(e){return e>=this.baseFrom&&e<=this.baseTo}inOrig(e){return e>=this.remoteFrom&&e<=this.remoteTo}}t.Chunk=n;class s{constructor(){this._currentGhost=null;this.chunks=[];this.editOffset=0}_getCurrent(){if(this._currentGhost){this._currentGhost=null;return null}return this.chunks.length>0?this.chunks[this.chunks.length-1]:null}_overlapChunk(e,t,i){if(i){return e.inOrig(t.from.line)}else{return e.inEdit(t.from.line)}}addDiff(e,t){let i=e.to.line-e.from.line;if(e.endsOnNewline){i+=1}const s=e.from.ch===0&&i>0;const r=e.chunkStartLine?0:1;const o=e.chunkStartLine&&e.endsOnNewline&&s?0:1;let a=this._getCurrent();if(a){if(t){if(this._overlapChunk(a,e,t)){a.remoteTo=Math.max(a.remoteTo,e.from.line+o+i);a.baseTo=Math.max(a.baseTo,e.from.line+o+this.editOffset);if(e.source&&!l.valueIn(e.source,a.sources)){a.sources.push(e.source)}}else{a=null}}else{if(this._overlapChunk(a,e,t)){a.remoteTo=Math.max(a.remoteTo,e.from.line+o-this.editOffset);a.baseTo=Math.max(a.baseTo,e.from.line+o+i);if(e.source&&!l.valueIn(e.source,a.sources)){a.sources.push(e.source)}}else{a=null}}}if(!a){if(t){let t=e.from.line;let l=t+this.editOffset;a=new n(l+r,l+o,t+r,t+o+i)}else{let t=e.from.line;let l=t-this.editOffset;a=new n(t+r,t+o+i,l+r,l+o)}if(e.source){a.sources.push(e.source)}this.chunks.push(a)}a.sources=a.sources.filter(l.unique);this.editOffset+=t?-i:i}addGhost(e,t,i){let s=e.to.line-e.from.line;if(e.endsOnNewline){s+=1}let r=e.from.ch===0&&s>0;let o=e.chunkStartLine?0:1;let a=e.chunkStartLine&&e.endsOnNewline&&r?0:1;if(!t){a+=s}let f=this._currentGhost;let u=e.from.line+(t?i:0);if(f){let t=u-this.editOffset;if(f.baseTo>u){f.remoteTo=Math.max(f.remoteTo,t+a);f.baseTo=Math.max(f.baseTo,u+a);if(e.source&&!l.valueIn(e.source,f.sources)){f.sources.push(e.source)}}else{f=null}}if(!f){let t=u-this.editOffset;f=new n(u+o,u+a,t+o,t+a);if(e.source){f.sources.push(e.source)}this.chunks.push(f)}this._currentGhost=f;f.sources=f.sources.filter(l.unique)}}t.Chunker=s;class r extends s{_overlapChunk(e,t,i){let l=t.from.line;if(e.baseFrom!==e.baseTo||e.remoteFrom>=e.remoteTo){l+=1}if(i){return e.inOrig(l)}else{return e.inEdit(l)}}}t.LineChunker=r;function o(e){let t=null;let i=[];for(let n of e){if(t===null){t=l.shallowCopy(n)}else{if(t.inEdit(n.baseFrom)){t.remoteTo=Math.max(t.remoteTo,n.remoteTo);t.baseTo=Math.max(t.baseTo,n.baseTo);t.sources=t.sources.concat(n.sources)}else{i.push(t);t=l.shallowCopy(n)}}t.sources=t.sources.filter(l.unique)}if(t!==null){i.push(t)}return i}t.lineToNormalChunks=o;function a(e,t){if(e){for(let i of e){i.source=t;if(i.op==="patch"){a(i.diff,t)}}}return e}t.labelSource=a},78049:function(e,t,i){"use strict";var l=this&&this.__createBinding||(Object.create?function(e,t,i,l){if(l===undefined)l=i;Object.defineProperty(e,l,{enumerable:true,get:function(){return t[i]}})}:function(e,t,i,l){if(l===undefined)l=i;e[l]=t[i]});var n=this&&this.__exportStar||function(e,t){for(var i in e)if(i!=="default"&&!t.hasOwnProperty(i))l(t,e,i)};Object.defineProperty(t,"__esModule",{value:true});n(i(75004),t);n(i(8892),t)},3788:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CollapsiblePanel=void 0;const l=i(50497);const n="jp-CollapsiblePanel";const s="jp-CollapsiblePanel-header";const r="jp-CollapsiblePanel-header-icon";const o="jp-CollapsiblePanel-header-icon-opened";const a="jp-CollapsiblePanel-header-icon-closed";const f="jp-CollapsiblePanel-slider";const u="jp-CollapsiblePanel-opened";const c="jp-CollapsiblePanel-closed";const d="jp-CollapsiblePanel-container";class h extends l.Panel{constructor(e,t,i){super();this.addClass(n);this.inner=e;let s=this.constructor;let h=s.createHeader(t);this.header=h;this.button=h.node.getElementsByClassName(r)[0];h.node.onclick=this.toggleCollapsed.bind(this);this.addWidget(h);this.container=new l.Panel;this.container.addClass(d);this.slider=new l.Panel;this.slider.addClass(f);this.slider.addWidget(e);this.container.addWidget(this.slider);this.addWidget(this.container);this.slider.addClass(i===true?c:u);this.button.classList.add(i===true?a:o);this.button.classList.add("fa");this.button.classList.add(i===true?"fa-caret-down":"fa-caret-up")}static createHeader(e){let t=new l.Panel;t.addClass(s);if(e){t.node.innerText=e}let i=document.createElement("button");i.className=r;t.node.appendChild(i);return t}toggleCollapsed(){let e=this.slider;let t=this.button;if(this.collapsed){e.removeClass(c);e.addClass(u);t.classList.remove(a);t.classList.add(o);this.button.classList.remove("fa-caret-down");this.button.classList.add("fa-caret-up")}else{e.removeClass(u);e.addClass(c);t.classList.remove(o);t.classList.add(a);this.button.classList.remove("fa-caret-up");this.button.classList.add("fa-caret-down")}}get collapsed(){return this.slider.hasClass(c)}set headerTitle(e){this.header.node.innerText=e}}t.CollapsiblePanel=h},14291:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EditorWidget=void 0;const l=i(13596);const n=i(89739);class s extends l.CodeEditorWrapper{constructor(e,t){if(t&&t.readOnly){t.extraKeys={Tab:false,"Shift-Tab":false}}super({model:new l.CodeEditor.Model({value:e}),factory:function(){let e=new n.CodeMirrorEditorFactory(t);return e.newInlineEditor.bind(e)}()});this.staticLoaded=false;s.editors.push(this.cm)}get cm(){return this.editor.editor}get doc(){return this.editor.doc}onResize(e){if(!this.staticLoaded){if(e.width<0||e.height<0){this.cm.setSize(null,null)}else{super.onResize(e)}if(this.editor.getOption("readOnly")&&document.contains(this.node)){this.staticLoaded=true}}}}t.EditorWidget=s;s.editors=[]},11156:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NotifyUserError=void 0;class i extends Error{constructor(e,t="error"){super(e);Object.setPrototypeOf(this,i.prototype);this.message=e;this.stack=(new Error).stack;this.severity=t}}t.NotifyUserError=i},20111:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MergeView=t.DiffView=t.createNbdimeMergeView=t.EventDirection=t.DIFF_OP=void 0;const l=i(57886);const n=i(50497);const s=i(95118);const r=i(78049);const o=i(14291);const a=i(28439);const f=i(11156);const u="➭";const c="⚠";var d;(function(e){e[e["DIFF_DELETE"]=-1]="DIFF_DELETE";e[e["DIFF_INSERT"]=1]="DIFF_INSERT";e[e["DIFF_EQUAL"]=0]="DIFF_EQUAL"})(d=t.DIFF_OP||(t.DIFF_OP={}));var h;(function(e){e[e["INCOMING"]=0]="INCOMING";e[e["OUTGOING"]=1]="OUTGOING"})(h=t.EventDirection||(t.EventDirection={}));const p="jp-Merge-gutter-picker";const g="jp-Merge-gutter-conflict";const m="jp-Merge-conflict";const y={chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect",gutter:"CodeMirror-merge-l-gutter"};const D={chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect",gutter:"CodeMirror-merge-r-gutter"};const b={chunk:"CodeMirror-merge-m-chunk",start:"CodeMirror-merge-m-chunk-start",end:"CodeMirror-merge-m-chunk-end",insert:"CodeMirror-merge-m-inserted",del:"CodeMirror-merge-m-deleted",connect:"CodeMirror-merge-m-connect",gutter:"CodeMirror-merge-m-gutter"};function w(e,t,i,l){let n={remote:e,local:t,merged:i,readOnly:l,orig:null};n.collapseIdentical=true;let s=new A(n);let r=[];if(s.left){r.push(s.left)}if(s.right){r.push(s.right)}if(s.merge){r.push(s.merge)}let o=(e||i).mimetype;if(o){for(let e of r){e.ownWidget.model.mimeType=o}s.base.model.mimeType=o}return s}t.createNbdimeMergeView=w;class C{constructor(e,t,i,l){this.collapsedRanges=[];this.model=e;this.type=t;this.updateCallback=i;this.classes=t==="left"?y:t==="right"?D:null;let n=this.model.remote||"";this.ownWidget=new o.EditorWidget(n,a.copyObj({readOnly:!!l.readOnly},l));this.showDifferences=l.showDifferences!==false}init(e){this.baseEditor=e;(this.baseEditor.state.diffViews||(this.baseEditor.state.diffViews=[])).push(this);this.ownEditor.state.diffViews=[this];this.baseEditor.on("gutterClick",this.onGutterClick.bind(this));this.ownEditor.on("gutterClick",this.onGutterClick.bind(this));this.lineChunks=this.model.getLineChunks();this.chunks=r.lineToNormalChunks(this.lineChunks);this.dealigned=false;this.forceUpdate=this.registerUpdate();this.setScrollLock(true,false);this.registerScroll()}setShowDifferences(e){e=e!==false;if(e!==this.showDifferences){this.showDifferences=e;this.forceUpdate("full")}}syncModel(){if(this.modelInvalid()){let e=this.ownEditor;let t=this.model.getLineChunks();let i=r.lineToNormalChunks(t);if(this.model.remote===e.getValue()){this.lineChunks=t;this.chunks=i;return}let n=e.getDoc().getCursor();let s=a.splitLines(this.model.remote);let o=e.getDoc().firstLine();let f=e.getDoc().lastLine()+1;let u=0;let c;let d;for(let r of this.collapsedRanges){let t=r.line;c=k(t,this.chunks);d=k(t,i);let n=d-c;if(c!==o||n!==0){e.getDoc().replaceRange(s.slice(o+u,d+u-1).join(""),l.Pos(o,0),l.Pos(c-1,0),"syncModel")}u+=n;o=c+r.size}if(o<f){e.getDoc().replaceRange(s.slice(o,s.length).join(""),l.Pos(o,0),l.Pos(f,0),"syncModel")}this.ownEditor.getDoc().setCursor(n);this.lineChunks=t;this.chunks=i}}buildGap(){let e=this.lockButton=N("div",undefined,"CodeMirror-merge-scrolllock");e.title="Toggle locked scrolling";let t=N("div",[e],"CodeMirror-merge-scrolllock-wrap");let i=this;l.on(e,"click",(function(){i.setScrollLock(!i.lockScroll)}));return this.gap=N("div",[t],"CodeMirror-merge-gap")}setScrollLock(e,t){this.lockScroll=e;if(e&&t!==false){this.syncScroll(h.OUTGOING)}if(this.lockButton){this.lockButton.innerHTML=e?"⇛⇚":"⇛&nbsp;&nbsp;⇚"}}registerUpdate(){let e=[];let t=[];let i;let l=this;l.updating=false;l.updatingFast=false;function n(i){l.updating=true;l.updatingFast=false;if(i==="full"){l.syncModel();if(l.classes===null){_(l.baseEditor,e);_(l.ownEditor,t)}else{S(l.baseEditor,e,l.classes);S(l.ownEditor,t,l.classes)}}if(l.showDifferences){l.updateMarks(l.ownEditor,l.model.additions,e,d.DIFF_INSERT);l.updateMarks(l.baseEditor,l.model.deletions,t,d.DIFF_DELETE)}l.updateCallback(true);c(l.ownEditor);l.updating=false}function o(e){let t=false;for(let i of l.baseEditor.state.diffViews){t=t||i.updating}if(t){return}l.dealigned=true;a(e===true)}function a(e){let t=false;for(let i of l.baseEditor.state.diffViews){t=t||i.updating||i.updatingFast}if(t){return}clearTimeout(i);if(e===true){l.updatingFast=true}i=window.setTimeout(n,e===true?20:250)}function u(e,t){if(!(l.model instanceof s.DecisionStringDiffModel)){l.lineChunks=l.model.getLineChunks();l.chunks=r.lineToNormalChunks(l.lineChunks)}o(t.text.length-1!==t.to.line-t.from.line)}function c(e){if(l.model.remote!==e.getValue()){throw new f.NotifyUserError("CRITICAL: Merge editor out of sync with model! "+"Double-check any saved merge output!")}}this.baseEditor.on("change",u);this.ownEditor.on("change",u);this.baseEditor.on("markerAdded",o);this.baseEditor.on("markerCleared",o);this.ownEditor.on("markerAdded",o);this.ownEditor.on("markerCleared",o);this.baseEditor.on("viewportChange",(function(){a(false)}));this.ownEditor.on("viewportChange",(function(){a(false)}));n();return n}modelInvalid(){return this.model instanceof s.DecisionStringDiffModel&&this.model.invalid}onGutterClick(e,t,i,l){if(l.button!==0){return}let n=e.lineInfo(t);if(!n.gutterMarkers||!n.gutterMarkers.hasOwnProperty(i)){return}let r=n.gutterMarkers[i];if(r&&r.sources){let l=r.sources;if(i===p){if(e===this.ownEditor){for(let e of l){e.decision.action=e.action}}else if(this.type==="merge"&&e===this.baseEditor){for(let e of l){e.decision.action="base"}}for(let e=l.length-1;e>=0;--e){let t=l[e];if(this.type==="merge"&&a.hasEntries(t.decision.customDiff)){t.decision.customDiff=[]}}if(l.length===0){e.setGutterMarker(t,p,null)}}else if(i===g){for(let e of l){e.decision.conflict=false}}for(let e of this.baseEditor.state.diffViews){if(e.model instanceof s.DecisionStringDiffModel){e.model.invalidate()}e.forceUpdate("full")}}}registerScroll(){let e=this;this.baseEditor.on("scroll",(function(){e.syncScroll(h.OUTGOING)}));this.ownEditor.on("scroll",(function(){e.syncScroll(h.INCOMING)}))}syncScroll(e){if(this.modelInvalid()){return}if(!this.lockScroll){return}let t;let i;if(e===h.OUTGOING){t=this.baseEditor;i=this.ownEditor}else{t=this.ownEditor;i=this.baseEditor}if(t.state.scrollSetBy===this){t.state.scrollSetBy=null;return}i.state.scrollPosition=t.getScrollInfo();if(i.state.scrollTicking){return}let l=i.getScrollInfo();if(i.state.scrollPosition.top===l.top&&i.state.scrollPosition.left===l.left){return}let n=this;window.requestAnimationFrame((function(){i.scrollTo(i.state.scrollPosition.left,i.state.scrollPosition.top);i.state.scrollTicking=false;i.state.scrollSetBy=n}));i.state.scrollTicking=true;return}updateMarks(e,t,i,l){let n;if(this.classes===null){n=a.copyObj(b)}else{n=this.classes}let s=this;function r(e,t,l,r){if(s.classes===null&&r.length>0){n=a.copyObj(b);let e=r[0].action;if(r.length>1){for(let t of r.slice(1)){if(t.action!==e){e="mixed";break}}}for(let t of Object.keys(n)){n[t]+="-"+e}}let o=false;if(r.length>0){for(let e of r){if(e.decision.conflict){o=true;break}}}for(let f=t;f<l;++f){let d=e.addLineClass(f,"background",n.chunk);if(o){e.addLineClass(d,"background",m)}if(f===t){e.addLineClass(d,"background",n.start);if(s.type!=="merge"){let t=N("div",u,n.gutter);t.sources=r;t.classList.add(p);e.setGutterMarker(d,p,t)}else if(e===s.baseEditor){for(let t of r){if(t.decision.action==="custom"&&!a.hasEntries(t.decision.localDiff)&&!a.hasEntries(t.decision.remoteDiff)){let t=N("div",u,n.gutter);t.sources=r;t.classList.add(p);e.setGutterMarker(d,p,t)}}}else if(o&&e===s.ownEditor){let t=N("div",c,"");t.sources=r;t.classList.add(g);e.setGutterMarker(d,g,t)}}if(f===l-1){e.addLineClass(d,"background",n.end)}i.push(d)}if(t===l){let l=e.addLineClass(t,"background",n.start);if(s.type!=="merge"){let t=N("div",u,n.gutter);t.sources=r;t.classList.add(p);e.setGutterMarker(l,p,t)}else if(o){let t=N("div",c,"");t.sources=r;t.classList.add(g);e.setGutterMarker(l,g,t)}e.addLineClass(l,"background",n.end+"-empty");i.push(l)}}let o=l===d.DIFF_DELETE?n.del:n.insert;e.operation((function(){let l=e===s.baseEditor;if(s.classes){S(e,i,n)}else{_(e,i)}M(e,t,i,o);for(let t of s.chunks){if(l){r(e,t.baseFrom,t.baseTo,t.sources)}else{r(e,t.remoteFrom,t.remoteTo,t.sources)}}}))}get ownEditor(){return this.ownWidget.cm}}t.DiffView=C;function _(e,t){for(let i of["-local","-remote","-either","-custom"]){let l=a.copyObj(b);for(let e of Object.keys(l)){l[e]+=i}S(e,t,l)}}function v(e){return"clear"in e}function S(e,t,i){for(let l=t.length-1;l>=0;--l){let n=t[l];if(v(n)){n.clear();t.splice(l,1)}else if(n.parent){e.removeLineClass(n,"background",i.chunk);e.removeLineClass(n,"background",i.start);e.removeLineClass(n,"background",i.end);e.removeLineClass(n,"background",m);if(a.valueIn(i.gutter,[y.gutter,D.gutter])){e.setGutterMarker(n,p,null)}else{e.setGutterMarker(n,g,null)}let s=e.lineInfo(n);if(!s.bgClass||s.bgClass.length===0){t.splice(l,1)}}}}function M(e,t,i,l){let n=e.getDoc();let s=null;if(a.valueIn(l,[b.del,b.insert])){s=l}for(let r of t){if(s!==null){l=s+(r.source?"-"+r.source.action:"")}i.push(n.markText(r.from,r.to,{className:l}))}}function k(e,t){let i=0;for(let l=0;l<t.length;l++){let n=t[l];if(n.baseTo>e&&n.baseFrom<=e){return 0}if(n.baseFrom>e){break}i=n.remoteTo-n.baseTo}return e+i}function E(e,t){let i=e.baseFrom;for(let l=0;l<t.length;++l){let e=t[l];if(e.baseFrom===i){return e.remoteTo}if(e.baseFrom>i){break}}return e.baseTo}function O(e){let t=[];let i=[];let l=e[0];let n=e.slice(1);for(let s=0;s<l.lineChunks.length;s++){let e=l.lineChunks[s];let r=[e.baseTo,e.remoteTo];for(let t of n){r.push(E(e,t.lineChunks))}if(t.length>0&&t[t.length-1][0]===r[0]){let e=t[t.length-1];for(let t=0;t<r.length;++t){e[t]=Math.max(e[t],r[t])}}else{if(t.length>0){let e=t[t.length-1];let l=r[0]-e[0];for(let t=1;t<r.length;++t){if(l!==r[t]-e[t]){l=null;break}}if(l===null){t.push(r)}else{i.push(r[0]);continue}}else{t.push(r)}}}for(let s=0;s<n.length;s++){for(let e=0;e<n[s].lineChunks.length;e++){let r=n[s].lineChunks[e];let o=0;for(;o<t.length;o++){let e=t[o];if(a.valueIn(r.baseTo,i)){o=-1;break}else if(e[0]>=r.baseTo){break}}if(o>-1){let e=[r.baseTo,E(r,l.lineChunks)];for(let t=0;t<n.length;t++){if(t===s){e.push(r.remoteTo)}else{e.push(E(r,n[t].lineChunks))}}if(t.length>o&&t[o][0]===r.baseTo){let i=t[o];for(let t=0;t<e.length;++t){i[t]=Math.max(i[t],e[t])}}else{t.splice(o,0,e)}}}}return t}function P(e,t,i){let l=0;let n=[];for(let s=0;s<e.length;s++){if(t[s]!==null){let i=e[s].heightAtLine(t[s],"local");n[s]=i;l=Math.max(l,i)}}for(let s=0;s<e.length;s++){if(t[s]!==null){let r=l-n[s];if(r>1){i.push(x(e[s],t[s],r))}}}}function x(e,t,i){let l=true;if(t>e.getDoc().lastLine()){t--;l=false}let n=document.createElement("div");n.className="CodeMirror-merge-spacer";n.style.height=i+"px";n.style.minWidth="1px";return e.addLineWidget(t,n,{height:i,above:l})}class A extends n.Panel{constructor(e){super();this.initialized=false;this.collapsedRanges=[];this.options=e;let t=e.remote;let i=e.local||null;let l=e.merged||null;let s=0;let r=this.left=null;let f=this.right=null;let u=this.merge=null;let c=this;this.diffViews=[];this.aligners=[];let d=e.remote||e.merged;if(!d){throw new Error("Either remote or merged model needs to be specified!")}e.value=d.base!==null?d.base:d.remote;e.lineNumbers=e.lineNumbers!==false;let h=e.readOnly;e.readOnly=true;let m=e;if(l){e.gutters=[g,p];if(e.lineWrapping===undefined){e.lineWrapping=false}}this.base=new o.EditorWidget(e.value,a.copyObj({readOnly:!!e.readOnly},e));this.base.addClass("CodeMirror-merge-pane");this.base.addClass("CodeMirror-merge-pane-base");if(l){let o=e.showBase!==false;if(!o){this.base.node.style.display="hidden"}let c;if(!i||i.remote===null){r=this.left=null;c=new n.Widget({node:N("div","Value missing","jp-mod-missing")})}else{r=this.left=new C(i,"left",this.alignViews.bind(this),a.copyObj(m));this.diffViews.push(r);c=r.ownWidget}c.addClass("CodeMirror-merge-pane");c.addClass("CodeMirror-merge-pane-local");this.addWidget(c);if(o){this.addWidget(this.base)}let d;if(!t||t.remote===null){f=this.right=null;d=new n.Widget({node:N("div","Value missing","jp-mod-missing")})}else{f=this.right=new C(t,"right",this.alignViews.bind(this),a.copyObj(m));this.diffViews.push(f);d=f.ownWidget}d.addClass("CodeMirror-merge-pane");d.addClass("CodeMirror-merge-pane-remote");this.addWidget(d);this.addWidget(new n.Widget({node:N("div",null,"CodeMirror-merge-clear","height: 0; clear: both;")}));u=this.merge=new C(l,"merge",this.alignViews.bind(this),a.copyObj({readOnly:h},a.copyObj(m)));this.diffViews.push(u);let p=u.ownWidget;p.addClass("CodeMirror-merge-pane");p.addClass("CodeMirror-merge-pane-final");this.addWidget(p);s=3+(o?1:0)}else if(t){this.addWidget(this.base);if(t.unchanged||t.added||t.deleted){if(t.unchanged){this.base.addClass("CodeMirror-merge-pane-unchanged")}else if(t.added){this.base.addClass("CodeMirror-merge-pane-added")}else if(t.deleted){this.base.addClass("CodeMirror-merge-pane-deleted")}s=1}else{f=this.right=new C(t,"right",this.alignViews.bind(this),m);this.diffViews.push(f);let e=f.ownWidget;e.addClass("CodeMirror-merge-pane");e.addClass("CodeMirror-merge-pane-remote");this.addWidget(new n.Widget({node:f.buildGap()}));this.addWidget(e);s=2}this.addWidget(new n.Widget({node:N("div",null,"CodeMirror-merge-clear","height: 0; clear: both;")}))}this.addClass("CodeMirror-merge");this.addClass("CodeMirror-merge-"+s+"pane");for(let n of[r,f,u]){if(n){n.init(this.base.cm)}}if(e.collapseIdentical&&s>1){this.base.cm.operation((function(){j(c,e.collapseIdentical)}))}for(let n of[r,f,u]){if(n){n.collapsedRanges=this.collapsedRanges}}this.initialized=true;if(this.left||this.right||this.merge){this.alignViews(true)}}alignViews(e){let t=false;if(!this.initialized){return}for(let s of this.diffViews){s.syncModel();if(s.dealigned){t=true;s.dealigned=false}}if(!t&&!e){return}let i=O(this.diffViews);let l=this;let n=function(){let e=l.aligners;for(let i=0;i<e.length;i++){e[i].clear()}e.length=0;let t=[l.base.cm];let n=[];for(let i of l.diffViews){t.push(i.ownEditor)}for(let i=0;i<t.length;i++){n.push(t[i].getScrollInfo().top)}for(let l=0;l<i.length;l++){P(t,i[l],e)}for(let i=0;i<t.length;i++){t[i].scrollTo(null,n[i])}};if(!this.base.cm.curOp){n=function(e){return function(){l.base.cm.operation(e)}}(n)}for(let s of this.diffViews){if(!s.ownEditor.curOp){n=function(e){return function(){s.ownEditor.operation(e)}}(n)}}n()}setShowDifferences(e){if(this.right){this.right.setShowDifferences(e)}if(this.left){this.left.setShowDifferences(e)}}getMergedValue(){if(!this.merge){throw new Error('No merged value; missing "merged" view')}return this.merge.ownEditor.getValue()}}t.MergeView=A;function I(e,t,i){e.addLineClass(t,"wrap","CodeMirror-merge-collapsed-line");let n=document.createElement("span");n.className="CodeMirror-merge-collapsed-widget";n.title="Identical text collapsed. Click to expand.";let s=e.getDoc().markText(l.Pos(t,0),l.Pos(i-1),{inclusiveLeft:true,inclusiveRight:true,replacedWith:n,clearOnEnter:true});function r(){s.clear();e.removeLineClass(t,"wrap","CodeMirror-merge-collapsed-line")}l.on(n,"click",r);return{mark:s,clear:r}}function L(e,t){let i=[];function l(){for(let e=0;e<i.length;e++){i[e].clear()}}for(let n=0;n<t.length;n++){let s=t[n];let r=I(s.cm,s.line,s.line+e);i.push(r);r.mark.on("clear",l)}return i[0].mark}function T(e,t,i,l){for(let n=0;n<e.chunks.length;n++){let s=e.chunks[n];for(let e=s.baseFrom-t;e<s.baseTo+t;e++){let t=e+i;if(t>=0&&t<l.length){l[t]=false}}}}function j(e,t){if(typeof t!=="number"){t=2}let i=[];let l=e.base.cm;let n=l.getDoc().firstLine();for(let s=n,r=l.getDoc().lastLine();s<=r;s++){i.push(true)}if(e.left){T(e.left,t,n,i)}if(e.right){T(e.right,t,n,i)}if(e.merge){T(e.merge,t,n,i)}e.collapsedRanges=[];for(let s=0;s<i.length;s++){if(i[s]){let r=s+n;let o=1;for(;s<i.length-1&&i[s+1];s++,o++){}if(o>t){let t=[{line:r,cm:l}];if(e.left){t.push({line:k(r,e.left.chunks),cm:e.left.ownEditor})}if(e.right){t.push({line:k(r,e.right.chunks),cm:e.right.ownEditor})}if(e.merge){t.push({line:k(r,e.merge.chunks),cm:e.merge.ownEditor})}let i=L(o,t);e.collapsedRanges.push({line:r,size:o});i.on("clear",(()=>{for(let t=0;t<e.collapsedRanges.length;++t){let i=e.collapsedRanges[t];if(i.line===r){e.collapsedRanges.splice(t,1);return}}}));if(e.options.onCollapse){e.options.onCollapse(e,r,o,i)}}}}}function N(e,t,i,l){let n=document.createElement(e);if(i){n.className=i}if(l){n.style.cssText=l}if(typeof t==="string"){n.appendChild(document.createTextNode(t))}else if(t){for(let e=0;e<t.length;++e){n.appendChild(t[e])}}return n}function F(e,t,i){for(let l=e.length-1;l>=0;l--){let n=e[l];let s=(i?n.remoteTo:n.baseTo)-1;if(s<t){return s}}return null}function W(e,t,i){for(let l=0;l<e.length;l++){let n=e[l];let s=i?n.remoteFrom:n.baseFrom;if(s>t){return s}}return null}var R;(function(e){e[e["Previous"]=-1]="Previous";e[e["Next"]=1]="Next"})(R||(R={}));function V(e,t){let i=null;let n=e.state.diffViews;let s=e.getDoc().getCursor().line;if(n){for(let l=0;l<n.length;l++){let r=n[l];let o=e===r.ownEditor;let a=t===R.Previous?F(r.chunks,s,o):W(r.chunks,s,o);if(a!==null&&(i===null||(t===R.Previous?a>i:a<i))){i=a}}}if(i!==null){e.getDoc().setCursor(i,0)}else{return l.Pass}}l.commands.goNextDiff=function(e){return V(e,R.Next)};l.commands.goPrevDiff=function(e){return V(e,R.Previous)}},28439:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.buildSelect=t.copyObj=t.stableSort=t.intersection=t.unique=t.accumulateLengths=t.repeatString=t.sortByKey=t.isPrefixArray=t.findSharedPrefix=t.arraysEqual=t.shallowCopy=t.deepCopy=t.splitLines=t.hasEntries=t.valueIn=void 0;function i(e,t){return t.indexOf(e)>=0}t.valueIn=i;function l(e){return e!==null&&e.length!==0}t.hasEntries=l;function n(e){return e.match(/^.*(\r\n|\r|\n|$)/gm)}t.splitLines=n;function s(e){if(typeof e!=="object"){if(i(typeof e,["string","number","boolean"])){return e}throw new TypeError("Cannot deepcopy non-object")}if(e===null){return null}else if(Array.isArray(e)){let t=e.length;let i=new Array(t);for(let l=0;l<t;l++){i[l]=s(e[l])}return i}else{let t=e;let i={};if(t.prototype!==undefined){i.prototype=t.prototype}for(let l in e){i[l]=s(t[l])}return i}}t.deepCopy=s;function r(e){let t=Object.create(Object.getPrototypeOf(e));for(let i in e){let l=e[i];if(l!==null&&l!==undefined&&l.hasOwnProperty("constructor")&&l.constructor===Function){continue}let n=Object.getOwnPropertyDescriptor(e,i);if(!n||n.get){continue}Object.defineProperty(t,i,n)}return t}t.shallowCopy=r;function o(e,t){if(e===t){return true}if(e===null||t===null){return false}if(e.length!==t.length){return false}for(let i=0;i<e.length;++i){if(e[i]!==t[i]){return false}}return true}t.arraysEqual=o;function a(e,t){if(e===null||t===null){return null}if(e===t){return e.slice()}let i=0;for(;i<Math.min(e.length,t.length);++i){if(e[i]!==t[i]){break}}return e.slice(0,i)}t.findSharedPrefix=a;function f(e,t){if(e===t){return true}if(e===null||e.length===0){return true}if(t===null||e.length>t.length){return false}for(let i=0;i<e.length;++i){if(e[i]!==t[i]){return false}}return true}t.isPrefixArray=f;function u(e,t){return g(e,(function(e,i){let l=e[t];let n=i[t];return l<n?-1:l>n?1:0}))}t.sortByKey=u;function c(e,t){if(t<1){return""}let i="";let l=e.valueOf();while(t>1){if(t&1){i+=l}t>>=1,l+=l}return i+l}t.repeatString=c;function d(e){let t=[];e.reduce((function(e,i,l){return t[l]=e+i.length}),0);return t}t.accumulateLengths=d;function h(e,t,i){return i.indexOf(e)===t}t.unique=h;function p(e,t){let i=[];[e,t]=e.length>t.length?[e,t]:[t,e];for(let l of e){if(t.indexOf(l)!==-1){i.push(l)}}return i}t.intersection=p;function g(e,t){let i=[];for(let n=0;n<e.length;++n){i.push({index:n,key:e[n]})}i=i.sort(((e,i)=>t(e.key,i.key)||e.index-i.index));let l=new Array(e.length);for(let n=0;n<e.length;++n){l[n]=e[i[n].index]}return l}t.stableSort=g;function m(e,t){if(!t){t={}}for(let i in e){if(e.hasOwnProperty(i)){t[i]=e[i]}}return t}t.copyObj=m;function y(e,t){if(t===undefined){t=document.createElement("select")}for(let i of e){let e=document.createElement("option");e.text=i;t.appendChild(e)}return t}t.buildSelect=y},44632:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateObjectOp=t.validateSequenceOp=t.opPatch=t.opRemoveRange=t.opAddRange=t.opRemove=t.opAdd=t.opReplace=void 0;const l=i(28439);function n(e,t){return{op:"replace",key:e,value:t}}t.opReplace=n;function s(e,t){return{op:"add",key:e,value:t}}t.opAdd=s;function r(e){return{op:"remove",key:e}}t.opRemove=r;function o(e,t){return{op:"addrange",key:e,valuelist:t}}t.opAddRange=o;function a(e,t){return{op:"removerange",key:e,length:t}}t.opRemoveRange=a;function f(e,t){return{op:"patch",key:e,diff:t}}t.opPatch=f;function u(e,t){if(typeof t.key!=="number"){console.info("Invalid patch details",e,t);throw new TypeError(`Invalid patch sequence op: Key is not a number: ${t.key}`)}let i=t.key;if(t.op==="addrange"){if(i<0||i>e.length||isNaN(i)){throw new RangeError("Invalid add range diff op: Key out of range: "+i)}}else if(t.op==="removerange"){if(i<0||i>=e.length||isNaN(i)){throw new RangeError("Invalid remove range diff op: Key out of range: "+i)}let l=t.length;if(i+l>e.length||isNaN(i)){throw new RangeError("Invalid remove range diff op: Range too long!")}}else if(t.op==="patch"){if(i<0||i>=e.length||isNaN(i)){throw new RangeError("Invalid patch diff op: Key out of range: "+i)}}else{throw new Error("Invalid op: "+t.op)}}t.validateSequenceOp=u;function c(e,t,i){let n=t.op;if(typeof t.key!=="string"){console.info("Invalid patch details",e,t,i);throw new TypeError(`Invalid patch object op: Key is not a string: ${t.key}`)}let s=t.key;if(n==="add"){if(l.valueIn(s,i)){throw new Error("Invalid add key diff op: Key already present: "+s)}}else if(n==="remove"){if(!l.valueIn(s,i)){throw new Error("Invalid remove key diff op: Missing key: "+s)}}else if(n==="replace"){if(!l.valueIn(s,i)){throw new Error("Invalid replace key diff op: Missing key: "+s)}}else if(n==="patch"){if(!l.valueIn(s,i)){throw new Error("Invalid patch key diff op: Missing key: "+s)}}else{throw new Error("Invalid op: "+n)}}t.validateObjectOp=c},81999:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createDeletedCellDiffModel=t.createAddedCellDiffModel=t.createUnchangedCellDiffModel=t.createPatchedCellDiffModel=t.CellDiffModel=void 0;const l=i(59086);const n=i(11156);const s=i(94526);const r=i(68282);const o=i(71716);const a=i(67727);class f{constructor(e,t,i,l,s){this.source=e;this.metadata=t;this.outputs=i;this.executionCount=l;this.cellType=s;if(i===null&&s==="code"){throw new n.NotifyUserError("Invalid code cell, missing outputs!")}this.metadata.collapsible=true;this.metadata.collapsibleHeader="Metadata changed";this.metadata.startCollapsed=true}get unchanged(){let e=this.source.unchanged;e=e&&(this.metadata?this.metadata.unchanged:true);if(this.outputs){for(let t of this.outputs){e=e&&t.unchanged}}if(this.executionCount){e=e&&this.executionCount.unchanged}return e}get added(){return this.source.added}get deleted(){return this.source.deleted}getChunkedOutputs(){if(this.outputs===null){return null}const e=[];if(this.added||this.deleted){for(let t of this.outputs){e.push([t])}}else{let t=[];for(let i of this.outputs){if(i.added||i.deleted){t.push(i)}else{if(t.length){e.push(t)}e.push([i]);t=[]}}if(t.length){e.push(t)}}return e}}t.CellDiffModel=f;function u(e,t,i){let n=null;let u=null;let c=null;let d=null;let h=s.getSubDiffByKey(t,"source");if(h){n=r.createPatchStringDiffModel(e.source,h)}else{n=r.createDirectStringDiffModel(e.source,e.source)}r.setMimetypeFromCellType(n,e,i);h=s.getSubDiffByKey(t,"metadata");u=h?r.createPatchStringDiffModel(e.metadata,h):r.createDirectStringDiffModel(e.metadata,e.metadata);if(l.isCode(e)){let i=e.outputs;let l=s.getSubDiffByKey(t,"outputs");if(l){c=o.makeOutputModels(i,null,l)}else{c=o.makeOutputModels(i,i)}let n=e.execution_count;let r=s.getDiffEntryByKey(t,"execution_count");d=a.createImmutableModel(n,n,r)}return new f(n,u,c,d,e.cell_type)}t.createPatchedCellDiffModel=u;function c(e,t){let i=r.createDirectStringDiffModel(e.source,e.source);r.setMimetypeFromCellType(i,e,t);let n=r.createDirectStringDiffModel(e.metadata,e.metadata);let s=null;let u=null;if(l.isCode(e)){s=o.makeOutputModels(e.outputs,e.outputs);let t=e.execution_count;u=a.createImmutableModel(t,t)}else{}return new f(i,n,s,u,e.cell_type)}t.createUnchangedCellDiffModel=c;function d(e,t){let i=r.createDirectStringDiffModel(null,e.source);r.setMimetypeFromCellType(i,e,t);let n=r.createDirectStringDiffModel(null,e.metadata);let s=null;let u=null;if(l.isCode(e)){s=o.makeOutputModels(null,e.outputs);u=a.createImmutableModel(null,e.execution_count)}return new f(i,n,s,u,e.cell_type)}t.createAddedCellDiffModel=d;function h(e,t){let i=r.createDirectStringDiffModel(e.source,null);r.setMimetypeFromCellType(i,e,t);let n=r.createDirectStringDiffModel(e.metadata,null);let s=null;let u=null;if(l.isCode(e)){s=o.makeOutputModels(e.outputs,null);let t=e.execution_count;u=a.createImmutableModel(t,null)}return new f(i,n,s,u,e.cell_type)}t.createDeletedCellDiffModel=h},73889:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},67727:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createImmutableModel=t.ImmutableDiffModel=void 0;class i{constructor(e,t,i,l,n){this.base=e;this.remote=t;this.collapsible=i===true;if(this.collapsible){this.collapsibleHeader=l?l:"";this.startCollapsed=n===true}}get unchanged(){return this.base===this.remote}get added(){return this.base===undefined}get deleted(){return this.remote===undefined}}t.ImmutableDiffModel=i;function l(e,t,l){if(!l){return new i(e,t)}else if(l.op==="add"){if(e!==undefined){throw new Error("Invalid diff op on immutable value")}return new i(e,l.value)}else if(l.op==="remove"){if(e===undefined){throw new Error("Invalid diff op on immutable value")}return new i(e,undefined)}else{if(e===undefined){throw new Error("Invalid diff op on immutable value")}return new i(e,l.value)}}t.createImmutableModel=l},63127:function(e,t,i){"use strict";var l=this&&this.__createBinding||(Object.create?function(e,t,i,l){if(l===undefined)l=i;Object.defineProperty(e,l,{enumerable:true,get:function(){return t[i]}})}:function(e,t,i,l){if(l===undefined)l=i;e[l]=t[i]});var n=this&&this.__exportStar||function(e,t){for(var i in e)if(i!=="default"&&!t.hasOwnProperty(i))l(t,e,i)};Object.defineProperty(t,"__esModule",{value:true});n(i(81999),t);n(i(73889),t);n(i(67727),t);n(i(55487),t);n(i(71716),t);n(i(73846),t);n(i(68282),t)},55487:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NotebookDiffModel=void 0;const l=i(94526);const n=i(68282);const s=i(81999);class r{constructor(e,t){let i=l.getSubDiffByKey(t,"metadata");if(e.metadata&&i){this.metadata=n.createPatchStringDiffModel(e.metadata,i)}else{this.metadata=null}if(this.metadata){this.metadata.collapsible=true;this.metadata.collapsibleHeader="Notebook metadata changed";this.metadata.startCollapsed=true}let r;try{r=e.metadata.language_info.mimetype}catch(c){}this.mimetype=r||"text/python";this.cells=[];this.chunkedCells=[];let o=0;let a=0;let f=-1;let u=[];for(let n of l.getSubDiffByKey(t,"cells")||[]){let t=n.key;for(let i=o;i<t;i++){let t=s.createUnchangedCellDiffModel(e.cells[i],this.mimetype);this.cells.push(t);this.chunkedCells.push([t])}if(t!==f){u=[];this.chunkedCells.push(u);f=t}if(n.op==="addrange"){for(let e of n.valuelist){let t=s.createAddedCellDiffModel(e,this.mimetype);this.cells.push(t);u.push(t)}a=0}else if(n.op==="removerange"){a=n.length;for(let i=t;i<t+a;i++){let t=s.createDeletedCellDiffModel(e.cells[i],this.mimetype);this.cells.push(t);u.push(t)}}else if(n.op==="patch"){if(u.length>0){u=[];this.chunkedCells.push(u)}let i=s.createPatchedCellDiffModel(e.cells[t],n.diff,this.mimetype);this.cells.push(i);u.push(i);a=1}o=Math.max(o,t+a)}for(let l=o;l<e.cells.length;l++){let t=s.createUnchangedCellDiffModel(e.cells[l],this.mimetype);this.cells.push(t);this.chunkedCells.push([t])}}}t.NotebookDiffModel=r},71716:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.makeOutputModels=t.OutputDiffModel=void 0;const l=i(59086);const n=i(11156);const s=i(73846);const r=["text/plain","application/vnd.jupyter.stdout","application/vnd.jupyter.stderr"];class o extends s.RenderableDiffModel{hasMimeType(e){let t=this.base||this.remote;if(l.isStream(t)&&r.indexOf(e)!==-1){return"text"}else if(l.isError(t)){return"traceback"}else if(l.isExecuteResult(t)||l.isDisplayData(t)){let i=t.data;if(e in i){return["data",e]}}return null}innerMimeType(e){let t=(this.base||this.remote).output_type;if(t==="stream"&&e==="text"||t==="error"&&e==="traceback"){return"text/plain"}else if((t==="execute_result"||t==="display_data")&&Array.isArray(e)){return e[1]}throw new n.NotifyUserError("Unknown MIME type for key: "+e)}stringify(e){let t=super.stringify(e);if(e){t.mimetype=this.innerMimeType(e)}return t}}t.OutputDiffModel=o;function a(e,t,i){let l=[];if(t===null&&!i){if(e===null){throw new Error("Either base or remote need to be specififed!")}for(let t of e){l.push(new o(t,null))}}else if(e===null){if(t===null){throw new Error("Either base or remote need to be specififed!")}for(let e of t){l.push(new o(null,e))}}else if(t===e){for(let t of e){l.push(new o(t,t))}}else if(i){let t=0;let n=0;for(let s of i){let i=s.key;for(let n of e.slice(t,i)){l.push(new o(n,n))}if(s.op==="addrange"){for(let e of s.valuelist){l.push(new o(null,e))}n=0}else if(s.op==="removerange"){let t=s.length;for(let n=i;n<i+t;n++){l.push(new o(e[n],null))}n=t}else if(s.op==="patch"){l.push(new o(e[i],null,s.diff));n=1}else{throw new Error("Invalid diff operation: "+s)}t=Math.max(t,i+n)}for(let i of e.slice(t)){l.push(new o(i,i))}}else{throw new Error("Invalid arguments to makeOutputModels()")}return l}t.makeOutputModels=a},73846:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RenderableDiffModel=void 0;const l=i(91100);const n=i(18987);const s=i(94526);const r=i(88787);const o=i(68282);class a{constructor(e,t,i){this.trustedChanged=new n.Signal(this);if(!t&&!e){throw new Error("Either remote or base value need to be given")}this.base=e;if(!t&&i){this.remote=r.patch(e,i)}else{this.remote=t}this.diff=i||null;this.collapsible=false}get unchanged(){return JSON.stringify(this.base)===JSON.stringify(this.remote)}get added(){return this.base===null}get deleted(){return this.remote===null}stringify(e){let t=function(e,i,l){if(!e){return e}if(Array.isArray(i)){const n=i.length>2?i.slice(1):i[1];if(l){return t(l(e,i[0]),n,l)}return t(e[i[0]],n,l)}else if(l){return l(e,i)}return e[i]};const i=l.JSONExt.deepCopy(this.base);let n=e?t(i,e):i;const r=l.JSONExt.deepCopy(this.remote);let a=e?t(r,e):r;let f=this.diff&&e?t(this.diff,e,s.getSubDiffByKey):this.diff;let u=null;if(this.unchanged||this.added||this.deleted||!f){u=o.createDirectStringDiffModel(n,a)}else{u=o.createPatchStringDiffModel(n,f)}u.mimetype=e?this.innerMimeType(e):"application/json";u.collapsible=this.collapsible;u.collapsibleHeader=this.collapsibleHeader;u.startCollapsed=this.startCollapsed;return u}get trusted(){return this._trusted}set trusted(e){if(this._trusted!==e){this._trusted=e;this.trustedChanged.emit(e)}}get contents(){let e=[];if(this.base){e.push(this.base)}if(this.remote&&this.remote!==this.base){e.push(this.remote)}return e}}t.RenderableDiffModel=a},68282:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setMimetypeFromCellType=t.createDirectStringDiffModel=t.createPatchStringDiffModel=t.StringDiffModel=void 0;const l=i(59086);const n=i(91100);const s=i(8799);const r=i(78049);const o=i(88787);class a{constructor(e,t,i,l,n,r,o){this.base=e;this.remote=t;if(e===null){console.assert(l.length===0);this.deletions=[]}else{this.deletions=s.raw2Pos(l,e)}if(t===null){console.assert(i.length===0);this.additions=[]}else{this.additions=s.raw2Pos(i,t)}this.collapsible=n===true;if(this.collapsible){this.collapsibleHeader=r?r:"";this.startCollapsed=o===true}}iterateDiffs(){return new a.DiffIter(this)}getLineChunks(){let e=new r.LineChunker;let t=this.iterateDiffs();for(let i=t.next();i!==undefined;i=t.next()){e.addDiff(i.range,i.isAddition)}return e.chunks}get unchanged(){return this.base===this.remote}get added(){return this.base===null}get deleted(){return this.remote===null}}t.StringDiffModel=a;(function(e){class t{constructor(e){this.editOffset=0;this.done=false;this.ia=0;this.id=0;this.hintTakeDeletion=false;this.model=e}next(){let e=null;let t=null;let i=this.model.additions;let l=this.model.deletions;let n=this.hintTakeDeletion;this.hintTakeDeletion=false;if(this.ia<this.model.additions.length){if(this.id<l.length){let t=i[this.ia];let s=l[this.id];if(t.from.line===s.from.line-this.editOffset&&t.from.ch===s.from.ch){if(n){e=false}else{this.hintTakeDeletion=true;e=true}}else if(t.from.line<s.from.line-this.editOffset||t.from.line===s.from.line-this.editOffset&&t.from.ch<s.from.ch){e=true}else{e=false}}else{e=true}}else if(this.id<l.length){e=false}else{this.done=true;return undefined}if(e){t=i[this.ia++]}else{t=l[this.id++]}let s=t.to.line-t.from.line;if(t.endsOnNewline){s+=1}this.editOffset+=e?-s:s;return{range:t,isAddition:e}}}e.DiffIter=t;class i{constructor(e){this.currentOffset=0;this.models=[];this.iterators=[];this.values=[];this.offsets=[];for(let t of e){if(t===null){continue}this.models.push(t);let e=t.iterateDiffs();this.iterators.push(e);this.offsets.push(0);this.values.push(e.next())}}static cmp(e,t,i,l){if(e===undefined&&t===undefined){return 0}else if(e===undefined){return 1}else if(t===undefined){return-1}let n=e.range.from.line+(e.isAddition?i:0);let s=t.range.from.line+(t.isAddition?l:0);if(n<s||e.range.from.ch<t.range.from.ch){return-1}else if(n>s||e.range.from.ch>t.range.from.ch){return 1}else{return 0}}next(){let e=0;for(let l=1;l<this.values.length;++l){if(0>i.cmp(this.values[l],this.values[e],this.iterators[l].editOffset,this.iterators[e].editOffset)){e=l}}this.i=e;let t=this.values[e];this.currentOffset=this.offsets[e];this.offsets[e]=this.iterators[e].editOffset;if(t!==undefined){this.values[e]=this.iterators[e].next()}return t}currentModel(){return this.models[this.i]}}e.SyncedDiffIter=i})(a=t.StringDiffModel||(t.StringDiffModel={}));function f(e,t){console.assert(!!t,"Patch model needs diff.");const i=n.JSONExt.deepCopy(e);let l=o.stringifyAndBlankNull(i);let s=o.patchStringified(i,t);return new a(l,s.remote,s.additions,s.deletions)}t.createPatchStringDiffModel=f;function u(e,t){let i=o.stringifyAndBlankNull(e);let l=o.stringifyAndBlankNull(t);let n=[];let r=[];if(e===null&&t===null){throw new Error("Invalid arguments to createDirectStringDiffModel(). "+"Both base and remote cannot be equal!")}else if(e===null){i=null;n.push(new s.DiffRangeRaw(0,l.length,undefined))}else if(t===null){l=null;r.push(new s.DiffRangeRaw(0,i.length,undefined))}else if(l!==i){throw new Error("Invalid arguments to createDirectStringDiffModel(). "+"Either base or remote should be null, or they should be equal!")}return new a(i,l,n,r)}t.createDirectStringDiffModel=u;function c(e,t,i){if(t.cell_type==="code"){e.mimetype=i}else if(t.cell_type==="markdown"){e.mimetype="text/markdown"}else if(l.isRaw(t)){e.mimetype=t.metadata.format||"text/plain"}}t.setMimetypeFromCellType=c},8799:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.raw2Pos=t.DiffRangePos=t.DiffRangeRaw=void 0;const l=i(57886);const n=i(28439);class s{constructor(e,t,i){this.from=e;this.to=e+t;this.source=i}offset(e){this.from+=e;this.to+=e}}t.DiffRangeRaw=s;class r{constructor(e,t,i,l){this.from=e;this.to=t;this.chunkStartLine=i===true;this.endsOnNewline=l===true}}t.DiffRangePos=r;function o(e,t){if(e.length===0){return 0}let i=null;e.some((function(e,l){if(e>=t){i=l;return true}return false}));if(i===null){return e.length}return i}function a(e,t){let i=[];let s=-1;while(-1!==(s=t.indexOf("\n",s+1))){i.push(s)}let a=[];for(let f of e){let e=o(i,f.from);let s=e>0?i[e-1]+1:0;let u=l.Pos(e,f.from-s);e=o(i,f.to-1);s=e>0?i[e-1]+1:0;let c=l.Pos(e,f.to-s);let d=n.valueIn(f.from,i);let h=n.valueIn(f.to-1,i);let p=u.ch===0&&(u.line!==c.line||h||f.to===t.length);let g=p||!d||!n.valueIn(f.from-1,i)&&!n.valueIn(f.to,i);let m=new r(u,c,g,h);m.source=f.source;a.push(m)}return a}t.raw2Pos=a},94526:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.flattenStringDiff=t.stripSource=t.getDiffEntryByKey=t.getSubDiffByKey=t.JSON_INDENT=void 0;const l=i(28439);const n=i(44632);t.JSON_INDENT="  ";function s(e,t){if(!e){return null}for(let i=0;i<e.length;++i){if(e[i].key===t){return e[i].diff||null}}return null}t.getSubDiffByKey=s;function r(e,t){if(!e){return null}for(let i=0;i<e.length;++i){if(e[i].key===t){return e[i]}}return null}t.getDiffEntryByKey=r;function o(e,t,i){n.validateSequenceOp(e,t);if(t.op==="patch"){let i=e[t.key];let l=t.diff;if(l!==null){for(let e of l){n.validateSequenceOp(i,e)}}}}function a(e){if(!e){return null}let t=[];for(let i of e){if(i.op==="patch"){t.push({key:i.key,op:i.op,diff:a(i.diff)})}else{let e=l.shallowCopy(i);delete e.source;t.push(e)}}return t}t.stripSource=a;function f(e,t){if(typeof e==="string"){e=l.splitLines(e)}let i=[0].concat(l.accumulateLengths(e));let s=[];for(let r of t){o(e,r,i);let t=i[r.key];if(r.op==="patch"){let e=r.diff;if(e!==null){for(let i of e){let e=l.shallowCopy(i);e.key+=t;s.push(e)}}}else{let e=null;if(r.op==="addrange"){e=n.opAddRange(t,r.valuelist.join(""))}else{let l=r.key+r.length;e=n.opRemoveRange(t,i[l]-t)}e.source=r.source;s.push(e)}}return l.sortByKey(s,"key")}t.flattenStringDiff=f},52191:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CellDiffWidget=t.OUTPUTS_DIFF_CLASS=t.CELLDIFF_CLASS=void 0;const l=i(50497);const n=i(7339);const s=i(5168);const r=i(3788);const o=i(20111);const a=i(28439);const f=i(63127);const u=i(75494);const c=i(94530);const d="jp-InputPrompt";t.CELLDIFF_CLASS="jp-Cell-diff";t.OUTPUTS_DIFF_CLASS="jp-Diff-outputsContainer";const h="jp-Cellrow-executionCount";const p="jp-Cellrow-source";const g="jp-Cellrow-metadata";const m="jp-Cellrow-outputs";class y extends l.Panel{constructor(e,i,l){super();this.addClass(t.CELLDIFF_CLASS);this._model=e;this._rendermime=i;this.mimetype=l;this.init()}init(){let e=this.model;let i=u.DIFF_CLASSES.slice();if(e.added){this.addClass(u.ADDED_DIFF_CLASS);i=u.DIFF_CLASSES.slice(1,2)}else if(e.deleted){this.addClass(u.DELETED_DIFF_CLASS);i=u.DIFF_CLASSES.slice(0,1)}else if(e.unchanged){this.addClass(u.UNCHANGED_DIFF_CLASS)}else{this.addClass(u.TWOWAY_DIFF_CLASS)}let n=y.createView(e.source,e,i,this._rendermime);n.addClass(p);if(e.executionCount){n.insertWidget(0,y.createPrompts(e.executionCount,e))}this.addWidget(n);if(!e.metadata.unchanged){let t=y.createView(e.metadata,e,i,this._rendermime);t.addClass(g);this.addWidget(t)}const s=e.getChunkedOutputs();if(a.hasEntries(s)){let n=new l.Panel;n.addClass(t.OUTPUTS_DIFF_CLASS);let o=false;for(let t of s){if(t.length===1){let l=t[0];let s=y.createView(l,e,i,this._rendermime);n.addWidget(s);o=o||!l.unchanged||l.added||l.deleted}else{let s=new l.Panel;s.addClass(u.CHUNK_PANEL_CLASS);let r=new l.Panel;r.addClass(u.ADDED_CHUNK_PANEL_CLASS);let a=new l.Panel;a.addClass(u.REMOVED_CHUNK_PANEL_CLASS);for(let l of t){let t=l.deleted?a:r;let n=y.createView(l,e,i,this._rendermime);t.addWidget(n);o=o||!l.unchanged||l.added||l.deleted}s.addWidget(r);s.addWidget(a);n.addWidget(s)}}if(e.added||e.deleted){n.addClass(m);this.addWidget(n)}else{let e=!o;let t=o?"Outputs changed":"Outputs unchanged";let i=new r.CollapsiblePanel(n,t,e);i.addClass(m);this.addWidget(i)}}}static createPrompts(e,t){let i=[];if(!t.added){let t=e.base;let l=`In [${t||" "}]:`;i.push(l)}if(!t.unchanged&&!t.deleted){let t=e.remote;let l=`In [${t||" "}]:`;i.push(l)}let n=new s.FlexPanel({direction:"left-to-right"});for(let r of i){let e=new l.Widget;e.node.innerText=r;e.addClass(d);n.addWidget(e);s.FlexPanel.setGrow(e,1)}n.addClass(h);return n}static createView(e,t,i,s){let a;if(e instanceof f.StringDiffModel){let i=null;if(e.unchanged&&t.cellType==="markdown"){let t=new n.MimeModel({data:{"text/markdown":e.base}});let l=s.preferredMimeType(t.data,"ensure");if(!l){throw new Error("No renderer for output")}let r=s.createRenderer(l);r.renderModel(t);i=r}else{i=o.createNbdimeMergeView(e)}if(e.collapsible){a=new r.CollapsiblePanel(i,e.collapsibleHeader,e.startCollapsed)}else{a=new l.Panel;a.addWidget(i)}}else if(e instanceof f.OutputDiffModel){a=new c.OutputPanel(e,t,i,s);if(e.added){a.addClass(u.ADDED_DIFF_CLASS)}else if(e.deleted){a.addClass(u.DELETED_DIFF_CLASS)}else if(e.unchanged){a.addClass(u.UNCHANGED_DIFF_CLASS)}else{a.addClass(u.TWOWAY_DIFF_CLASS)}}else{throw new Error("Unrecognized model type.")}return a}get model(){return this._model}}t.CellDiffWidget=y},75494:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ADD_DEL_LABEL_CLASS=t.REMOVED_CHUNK_PANEL_CLASS=t.ADDED_CHUNK_PANEL_CLASS=t.CHUNK_PANEL_CLASS=t.DIFF_CLASSES=t.UNCHANGED_DIFF_CLASS=t.DELETED_DIFF_CLASS=t.ADDED_DIFF_CLASS=t.TWOWAY_DIFF_CLASS=void 0;t.TWOWAY_DIFF_CLASS="jp-Diff-twoway";t.ADDED_DIFF_CLASS="jp-Diff-added";t.DELETED_DIFF_CLASS="jp-Diff-deleted";t.UNCHANGED_DIFF_CLASS="jp-Diff-unchanged";t.DIFF_CLASSES=["jp-Diff-base","jp-Diff-remote"];t.CHUNK_PANEL_CLASS="jp-Diff-addremchunk";t.ADDED_CHUNK_PANEL_CLASS="jp-Diff-addedchunk";t.REMOVED_CHUNK_PANEL_CLASS="jp-Diff-removedchunk";t.ADD_DEL_LABEL_CLASS="jp-Diff-label"},7842:function(e,t,i){"use strict";var l=this&&this.__createBinding||(Object.create?function(e,t,i,l){if(l===undefined)l=i;Object.defineProperty(e,l,{enumerable:true,get:function(){return t[i]}})}:function(e,t,i,l){if(l===undefined)l=i;e[l]=t[i]});var n=this&&this.__exportStar||function(e,t){for(var i in e)if(i!=="default"&&!t.hasOwnProperty(i))l(t,e,i)};Object.defineProperty(t,"__esModule",{value:true});n(i(52191),t);n(i(43534),t);n(i(42569),t)},42569:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MetadataDiffWidget=void 0;const l=i(50497);const n=i(20111);const s=i(3788);const r=i(75494);const o="jp-Metadata-diff";class a extends l.Panel{constructor(e){super();this._model=e;console.assert(!e.added&&!e.deleted);this.addClass(o);this.init()}init(){let e=this._model;if(!e.unchanged){this.addClass(r.TWOWAY_DIFF_CLASS);let t=n.createNbdimeMergeView(e);if(e.collapsible){t=new s.CollapsiblePanel(t,e.collapsibleHeader,e.startCollapsed)}this.addWidget(t)}}}t.MetadataDiffWidget=a},43534:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NotebookDiffWidget=void 0;const l=i(50497);const n=i(52191);const s=i(75494);const r=i(42569);const o="jp-Notebook-diff";class a extends l.Panel{constructor(e,t){super();this._model=e;this._rendermime=t;this.addClass(o)}init(){let e=this._model;let t=this._rendermime;let i=Promise.resolve();i=i.then((()=>{if(e.metadata){this.addWidget(new r.MetadataDiffWidget(e.metadata))}}));for(let r of e.chunkedCells){i=i.then((()=>new Promise((i=>{if(r.length===1&&!(r[0].added||r[0].deleted)){this.addWidget(new n.CellDiffWidget(r[0],t,e.mimetype))}else{let i=new l.Panel;i.addClass(s.CHUNK_PANEL_CLASS);let o=new l.Panel;o.addClass(s.ADDED_CHUNK_PANEL_CLASS);let a=new l.Panel;a.addClass(s.REMOVED_CHUNK_PANEL_CLASS);for(let l of r){let i=l.deleted?a:o;i.addWidget(new n.CellDiffWidget(l,t,e.mimetype))}i.addWidget(o);i.addWidget(a);this.addWidget(i)}requestAnimationFrame((()=>{i()}))}))))}return i}get model(){return this._model}}t.NotebookDiffWidget=a},94530:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RenderableOutputView=t.OutputPanel=void 0;const l=i(50497);const n=i(54522);const s=i(7339);const r=i(3788);const o=i(20111);const a=i(28439);const f=i(75494);const u=i(52621);const c="jp-Diff-outputPanel";const d="jp-Diff-renderedOutput";const h="jp-Diff-trustCandidate";const p="jp-Diff-outputMenu";const g="jp-Diff-trustOutputButton";const m="jp-Diff-showOutputSourceButton";const y="jp-diff-base64Output";const D="jp-Diff-outputMimetypeSelect";const b=["text/html"];let w=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/;function C(e,t=64){return e!==null&&e.length>t&&w.test(e.replace("\n",""))}class _ extends l.Panel{constructor(e,t,i,n){super();this._mimetype=null;this.forceText=false;this.model=e;this.rendermime=n;this.editorClasses=i;e.trustedChanged.connect(((e,t)=>{this.trustedChanged(t)}));if(_.isTrustSignificant(e,this.rendermime)){this.addClass(h)}if(e.added){if(!t.added){let e=new l.Widget;e.node.textContent="Output added";e.addClass(f.ADD_DEL_LABEL_CLASS);this.addWidget(e)}this.addClass(f.ADDED_DIFF_CLASS)}else if(e.deleted){if(!t.deleted){let e=new l.Widget;e.node.textContent="Output deleted";e.addClass(f.ADD_DEL_LABEL_CLASS);this.addWidget(e)}this.addClass(f.DELETED_DIFF_CLASS)}else if(e.unchanged){this.addClass(f.UNCHANGED_DIFF_CLASS)}else{this.addClass(f.TWOWAY_DIFF_CLASS)}let s=this.createView();this.initContainer(s);this.createHoverMenu();this.addClass(c)}initContainer(e){if(this.model.collapsible){this.container=new r.CollapsiblePanel(e,this.model.collapsibleHeader,this.model.startCollapsed)}else{this.container=this;this.container.addWidget(e)}this.view=e}replaceView(e){let t=this.view;let i=this.container.widgets.indexOf(t);this.container.insertWidget(i,e);t.parent=null;this.view=e}createView(e=false){let t=null;let i=this.model;let l=this.rendermime;let n=v.canRender(i,l);if(n&&!e){let e=new v(i,this.editorClasses,l,this.selectedMimetype);t=e}else{t=this.createOutputTextView()}return t}createOutputTextView(){let e;let t=this.model;let i=null;if(this.selectedMimetype===null){n.find(this.rendermime.mimeTypes,(e=>{i=t.hasMimeType(e);return i!==null}))}else{i=t.hasMimeType(this.selectedMimetype)}if(i){let l=t.stringify(i);let n=l.base||l.remote;if(!C(n)){e=o.createNbdimeMergeView(l)}}if(!e){e=o.createNbdimeMergeView(t.stringify())}return e}createHoverMenu(){this.menu=new l.Panel;this.menu.addClass(p);this.container.addWidget(this.menu);let e=document.createElement("button");let t=["Show source","Render"];e.innerText=t[0];e.onclick=i=>{this.forceText=!this.forceText;e.innerText=t[this.forceText?1:0];this.updateView()};let i=new l.Widget({node:e});i.addClass(m);this.menu.addWidget(i);let n=document.createElement("button");n.innerText="Trust";n.onclick=e=>{this.model.trusted=!this.model.trusted};i=new l.Widget({node:n});i.addClass(g);this.menu.addWidget(i);let r=[];for(let l of this.model.contents){let e=s.OutputModel.getData(l);r=r.concat(Object.keys(e))}r=r.filter(a.unique);if(r.length>1){let e=a.buildSelect(r);let t=this.selectedMimetype;if(t){e.selectedIndex=r.indexOf(t)}e.onchange=t=>{this.selectedMimetype=r[e.selectedIndex]};i=new l.Widget({node:e});i.addClass(D);this.menu.addWidget(i)}else if(r.length===1){let e=document.createElement("span");e.innerText=r[0];i=new l.Widget({node:e});this.menu.addWidget(i)}}trustedChanged(e){this.updateView();if(e){this.removeClass(h)}else if(_.isTrustSignificant(this.model,this.rendermime)){this.addClass(h)}}updateView(){let e=this.model;if(this.view instanceof v){if(!this.forceText&&v.canRender(e,this.rendermime)){this.view.updateView(this.selectedMimetype,e.trusted)}else{let e=this.createView(this.forceText);this.replaceView(e)}}else{let e=this.createView(this.forceText);this.replaceView(e)}}get selectedMimetype(){if(this._mimetype!==null){return this._mimetype}let e=s.OutputModel.getData(this.model.base||this.model.remote);let t=this.rendermime.preferredMimeType(e,this.model.trusted?"any":"ensure");return t===undefined?null:t}set selectedMimetype(e){if(this._mimetype!==e){this._mimetype=e;this.updateView()}}static isTrustSignificant(e,t){if(e.trusted){return false}let i=[];if(e.base){i.push(e.base)}if(e.remote&&e.remote!==e.base){i.push(e.remote)}for(let l of i){let e=new s.OutputModel({value:l,trusted:false});let i=Object.keys(e.data);let r=n.toArray(t.mimeTypes);let o=a.intersection(i,r);for(let l of o){let e=t.getFactory(l);if(e&&(!e.safe||b.indexOf(l)!==-1)){return true}}}return false}}t.OutputPanel=_;class v extends u.RenderableDiffView{constructor(e,t,i,l){super(e,t,i,l)}createSubView(e,t){let i=new S(this.rendermime);i.updateView(e,t,this.mimetype);return i}updateView(e,t){let i=0;let l=this.model;this.mimetype=e;n.each(this.layout.widgets,(n=>{if(n instanceof S){let s=null;if(i===0&&l.base){s=l.base}else if(l.remote){s=l.remote}if(s){n.updateView(s,t,e)}++i}}))}static canRender(e,t){let i=e.contents;for(let l of i){let i=s.OutputModel.getData(l);let n=t.preferredMimeType(i,e.trusted?"any":"ensure");if(!n){return false}}return true}}t.RenderableOutputView=v;class S extends l.Panel{constructor(e){super();this.rendermime=e}updateView(e,t,i){let l=this.renderer;this.renderer=this.createRenderer(e,t,i);if(l!==undefined){l.dispose()}this.addWidget(this.renderer)}createRenderer(e,t,i){let l=new s.OutputModel({value:e,trusted:t});let n=this.rendermime.createRenderer(i);n.renderModel(l);n.addClass(d);let r=s.OutputModel.getData(e);if(C(r[i])){n.addClass(y)}return n}}},52621:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RenderableDiffView=void 0;const l=i(50497);class n extends l.Widget{constructor(e,t,i,n){super();this.rendermime=i;this.model=e;this.mimetype=n;let s=e.base;let r=e.remote;this.layout=new l.PanelLayout;let o=0;if(s){let i=this.createSubView(s,e.trusted);this.layout.addWidget(i);i.addClass(t[o++])}if(r&&r!==s){let i=this.createSubView(r,e.trusted);this.layout.addWidget(i);i.addClass(t[o++])}}}t.RenderableDiffView=n},51604:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.filterDecisions=t.pushPatchDecision=t.buildDiffs=t.applyDecisions=t.resolveCommonPaths=t.pushPath=t.popPath=t.addSorted=t.decisionSortKey=t.decisionPathSortKey=t.MergeDecision=void 0;const l=i(44632);const n=i(94526);const s=i(88787);const r=i(28439);function o(e){if(r.valueIn(e,["base","local","remote","local_then_remote","remote_then_local","custom","clear","clear_parent","either"])){return e}throw new Error("Invalid merge decision action: "+e)}function a(e,t){return e===undefined?t:e}class f{constructor(e,t=null,i=null,l="base",n=false,s=null,r=null){this.level=0;if(e instanceof Array){this._path=e}else if(e instanceof f){this._path=e.absolutePath.slice();t=e.localDiff;i=e.remoteDiff;l=e.action;n=e.conflict;s=e.customDiff;r=e.similarInsert;this.level=e.level}else{this._path=a(e.common_path,[]);t=a(e.local_diff,t);i=a(e.remote_diff,i);l=o(a(e.action,l));n=a(e.conflict,n);s=a(e.custom_diff,s);r=a(e.similar_insert,r)}this.localDiff=t;this.remoteDiff=i;this.action=l;this.conflict=n;this.customDiff=s;this.similarInsert=r}setValuesFrom(e){this._path=e.absolutePath.slice();this.localDiff=e.localDiff;this.remoteDiff=e.remoteDiff;this.action=e.action;this.conflict=e.conflict;this.customDiff=e.customDiff;this.similarInsert=e.similarInsert;this.level=e.level}get localPath(){return this._path.slice(this.level)}get absolutePath(){return this._path}set absolutePath(e){this._path=e}pushPath(e){this._path.push(e)}get diffs(){let e=[this.localDiff,this.remoteDiff];if(this.customDiff){e.push(this.customDiff)}return e}set diffs(e){this.localDiff=e[0];this.remoteDiff=e[1];if(e.length>2){this.customDiff=e[2]}}serialize(){return{common_path:this.absolutePath.slice(),local_diff:n.stripSource(this.localDiff),remote_diff:n.stripSource(this.remoteDiff),action:this.action,conflict:this.conflict,custom_diff:n.stripSource(this.customDiff)}}}t.MergeDecision=f;function u(e,t){if(e.length===t.length){for(let i=0;i<e.length;++i){if(e[i]===t[i]){continue}return e[i]<t[i]?-1:1}return 0}else{return t.length-e.length}}t.decisionPathSortKey=u;function c(e,t){return u(e.absolutePath,t.absolutePath)}t.decisionSortKey=c;function d(e,t,i){let l=0;for(;l<e.length;++l){let n=u(e[l].absolutePath,t.absolutePath);if(n>0){e.splice(l,0,t);return}else if(i!==undefined&&n===0){let n=null;for(let t of e[l].diffs){if(!t){continue}for(let e of t){if(!n||e.key<n){n=e.key}}}if(i===n){throw new Error("Shouldn't have multiple decisions with diff on same key")}else if(n===null||i<n){e.splice(l,0,t);return}}}e.push(t)}t.addSorted=d;function h(e,t){if(e.length<1){return null}let i=0;for(let r of e){if(r!==null&&r.length>0){break}i++}if(i===e.length){console.log("Empty merge decision (no diffs)!");return null}let l=e[i];let n=l[0].op;let s=l[0].key;for(let r of e){if(r&&r.length>0){for(let e of r){if(e.op!==n||e.key!==s){return null}}}}if(n==="patch"){if(t!==true){for(let t of e){if(t&&t.length>0&&(t.length!==1||!t[0].diff||t[0].diff.length!==1)){return null}}}let i=[];for(let t of e){if(t&&t.length>0){i.push(t[0].diff)}else{i.push(null)}}return{diffs:i,key:s}}return null}t.popPath=h;function p(e,t){for(let i of t.reverse()){e=[l.opPatch(i,e)]}return e}t.pushPath=p;function g(e){for(let t of e){let e=t.diffs;let i=t.absolutePath||[];let l=h(e,true);while(l){i.push(l.key);e=l.diffs;l=h(e,true)}t.absolutePath=i;t.diffs=e}}t.resolveCommonPaths=g;function m(e){if(e instanceof Array){return[]}else if(typeof e==="string"){return""}else if(e===null||r.valueIn(typeof e,["number","boolean"])){return null}else{return{}}}function y(e,t){for(let i of t){e=e[i]}return e}function D(e,t){if(e&&t){return e.concat(t)}else if(e){return e.slice()}else if(t){return t.slice()}else{return[]}}function b(e,t){let i=t.action;if(i==="base"){return[]}else if(i==="local"||i==="either"){return t.localDiff?t.localDiff.slice():[]}else if(i==="remote"){return t.remoteDiff?t.remoteDiff.slice():[]}else if(i==="custom"){return t.customDiff?t.customDiff.slice():[]}else if(i==="local_then_remote"){return D(t.localDiff,t.remoteDiff)}else if(i==="remote_then_local"){return D(t.remoteDiff,t.localDiff)}else if(i==="clear"){let i=null;if(typeof e!=="object"){throw new TypeError("Can only use `'clear'` action on objects/dicts")}for(let e of D(t.localDiff,t.remoteDiff)){if(i){if(i!==e.key){throw new Error("Cannot combine diffs with different keys")}}else{i=e.key}}if(i){let n=l.opReplace(i,m(e[i]));n.source={decision:t,action:"custom"};return[n]}else{return[]}}else if(i==="clear_parent"){if(Array.isArray(e)){let i=l.opRemoveRange(0,e.length);i.source={decision:t,action:"custom"};return[i]}else if(typeof e==="string"){let i=r.splitLines(e).length;let n=l.opRemoveRange(0,i);n.source={decision:t,action:"custom"};return[n]}else{let i=[];for(let n of e){let e=l.opRemove(n);e.source={decision:t,action:"custom"};i.push(e)}return i}}else{throw new Error('The action "'+i+'" is not defined')}}function w(e,t){for(let i=0;i<t.length;++i){if(typeof e==="string"){return[t.slice(0,i),t.slice(i)]}e=e[t[i]]}return[t,null]}function C(e,t){let i=r.deepCopy(e);let l=null;let n=null;let o=null;let a=null;let f=[];let u=false;for(let c of t){let e=w(i,c.localPath);let t=e[0];let d=e[1];if(r.arraysEqual(t,l)){if(u){}else{if(c.action==="clear_parent"){u=true;f=[]}let e=b(a,c);if(d){e=p(e,d)}f=f.concat(e)}}else{if(l!==null){if(n===null){i=s.patch(a,f)}else{n[o]=s.patch(a,f)}}l=t.slice();a=i;n=null;o=null;for(let e of t){n=a;a=a[e];o=e}f=b(a,c);if(d){f=p(f,d)}u=c.action==="clear_parent"}}if(l!==null){if(n===null){i=s.patch(a,f)}else{n[o]=s.patch(a,f)}}return i}t.applyDecisions=C;function _(e,t){let i=[];let l=null;for(let n=0;n<t.length;++n){let s=e[t[n]].path;let o=e[t[n]].diff;i=i.concat(o);let a;if(n===t.length-1){a=l}else{a=e[t[n+1]].path}if(r.isPrefixArray(a,s)){if(a!==null){i=p(i,s.slice(a.length));l=a}}else{let l=_(e,t.slice(n+1));a=e[t[t.length-1]].path;let o=r.findSharedPrefix(s,a);let f=o?o.length:0;i=p(i,s.slice(f)).concat(p(l,a.slice(f)));break}}return i}function v(e,t,i){let l={};let s=[];let r=i==="local";let o=i==="merged";if(!r&&!o){console.assert(i==="remote")}for(let a of t){let t=null;let i=w(e,a.localPath);let f=i[0];let u=i[1];if(o){let i=y(e,f);t=b(i,a)}else{t=r?a.localDiff:a.remoteDiff;if(t===null){continue}}let c="/"+f.join("/");if(l.hasOwnProperty(c)){if(u){let e=n.getSubDiffByKey(l[c].diff,u[0]);if(e){e.push.apply(e,t)}else{t=p(t,u);l[c].diff.push(t[0])}}else{l[c].diff=l[c].diff.concat(t)}}else{if(u){t=p(t,u)}l[c]={diff:t,path:f};s.push(c)}}if(Object.keys(l).length===0){return null}if(!l.hasOwnProperty("/")){l["/"]={diff:[],path:[]};s.push("/")}return _(l,s)}t.buildDiffs=v;function S(e,t){let i=new f(e);for(let n of t.slice().reverse()){if(i.absolutePath.length===0){throw new Error("Cannot remove key from empty decision path: "+n+", "+i)}let e=i.absolutePath.pop();if(e!==n){throw Error("Cannot push a patch that doesn't correspond to "+"a key in the decision path! Key: "+n+"; Remaining path: "+i.absolutePath.concat([e]))}let t=i.localDiff&&i.localDiff.length>0;let s=i.remoteDiff&&i.remoteDiff.length>0;let r=i.customDiff&&i.customDiff.length>0;i.localDiff=t?[l.opPatch(n,i.localDiff)]:null;i.remoteDiff=s?[l.opPatch(n,i.remoteDiff)]:null;i.customDiff=r?[l.opPatch(n,i.customDiff)]:null}return i}t.pushPatchDecision=S;function M(e,t,i,l){let n=[];i=i||0;for(let s of e){if(l!==undefined&&s.absolutePath.length>l){continue}if(r.isPrefixArray(t,s.absolutePath.slice(i))){s.level=i+t.length;n.push(s)}}return n}t.filterDecisions=M},28580:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CellMergeModel=void 0;const l=i(59086);const n=i(18987);const s=i(94526);const r=i(63127);const o=i(51604);const a=i(88787);const f=i(28439);const u=i(78049);const c=i(71833);const d=i(11156);function h(e,t,i,n,u){for(let l of t){if(l.localPath.length===0){let e=o.popPath(l.diffs,true);if(e!==null){l.diffs=e.diffs;l.pushPath(e.key)}}}let d=new c.DecisionStringDiffModel(e.source,o.filterDecisions(t,["source"],2),[i?i.source:null,n?n.source:null]);r.setMimetypeFromCellType(d,e,u);let h=new c.DecisionStringDiffModel(e.metadata,o.filterDecisions(t,["metadata"],2),[i?i.metadata:null,n?n.metadata:null]);let p=null;let g=null;if(l.isCode(e)){if(e.outputs){let i=e.outputs;let l=o.filterDecisions(t,["outputs"],2);let n=o.buildDiffs(i,l,"merged");let s;if(n&&n.length>0){s=a.patch(i,n)}else{s=i}p=r.makeOutputModels(i,s,n)}let i=e.execution_count;let l=o.filterDecisions(t,["cells"],0,2);for(let t of l){if(s.getDiffEntryByKey(t.localDiff,"execution_count")!==null||s.getDiffEntryByKey(t.remoteDiff,"execution_count")!==null||s.getDiffEntryByKey(t.customDiff,"execution_count")!==null){t.level=2;let l=o.buildDiffs(e,[t],"merged");let n=f.hasEntries(l)?l[0]:null;g=r.createImmutableModel(i,i,n)}}}return new r.CellDiffModel(d,h,p,g,e.cell_type)}class p extends c.ObjectMergeModel{constructor(e,t,i){super(e,[],i,["source","metadata","outputs","execution_count"]);this.deleteCellChanged=new n.Signal(this);this._clearOutputs=false;this.clearOutputsChanged=new n.Signal(this);this.onesided=false;this._deleteCell=false;this.processDecisions(t)}get deleteCell(){return this._deleteCell}set deleteCell(e){if(this._deleteCell!==e){this._deleteCell=e;this.deleteCellChanged.emit(e)}}get clearOutputs(){return this._clearOutputs}set clearOutputs(e){if(this._clearOutputs!==e){this._clearOutputs=e;this.clearOutputsChanged.emit(e)}}get agreedSource(){return!!this.local&&!!this.remote&&this.local.source.remote===this.remote.source.remote}get agreedMetadata(){if(!this.local||!this.remote){return false}return this.local.metadata.remote===this.remote.metadata.remote}get agreedOutputs(){if(!this.local||!this.remote){return false}let e=this.local.outputs;let t=this.remote.outputs;if(!f.hasEntries(e)||!f.hasEntries(t)){return!f.hasEntries(e)&&!f.hasEntries(t)}if(e.length!==t.length){return false}for(let i=0;i<e.length;++i){if(JSON.stringify(e[i].remote)!==JSON.stringify(t[i].remote)){return false}}return true}get agreedCell(){return this.agreedSource&&this.agreedMetadata&&this.agreedOutputs}get conflicted(){for(let e of this.decisions){if(e.conflict){return true}}return false}hasConflictsOn(e){let t=o.filterDecisions(this.decisions,[e],2);for(let i of t){if(i.conflict){return true}}return false}get sourceConflicted(){return this.hasConflictsOn("source")}get metadataConflicted(){return this.hasConflictsOn("metadata")}get outputsConflicted(){return this.hasConflictsOn("outputs")}clearOutputConflicts(){let e=o.filterDecisions(this.decisions,["outputs"],2);for(let t of e){t.conflict=false}}getExecutionCountDecision(){let e=o.filterDecisions(this.decisions,["cells"],0,2);for(let t of e){if(s.getDiffEntryByKey(t.localDiff,"execution_count")!==null||s.getDiffEntryByKey(t.remoteDiff,"execution_count")!==null||s.getDiffEntryByKey(t.customDiff,"execution_count")!==null){return t}}return null}serialize(){if(this.deleteCell){return null}if(this.base===null){if(this.decisions.length>1||!this.merged.added){throw new d.NotifyUserError("Invalid cell decision")}let e=this.decisions[0];let t;if(e.action==="local"||e.action==="either"){if(!e.localDiff){throw new d.NotifyUserError("Invalid cell decision")}t=e.localDiff[0]}else if(e.action==="remote"){if(!e.remoteDiff){throw new d.NotifyUserError("Invalid cell decision")}t=e.remoteDiff[0]}else if(e.action==="custom"){if(!e.customDiff){throw new d.NotifyUserError("Invalid cell decision")}t=e.customDiff[0]}else{throw new d.NotifyUserError("Invalid cell decision")}if(t.op!=="addrange"){throw new d.NotifyUserError("Invalid cell decision")}return t.valuelist[0]}let e=[];for(let l of this.decisions){let t=new o.MergeDecision(l);t.level=2;e.push(t)}let t=o.applyDecisions(this.base,e);let i=t.source;if(Array.isArray(i)){i=i.join("")}if(i!==this._merged.source.remote){console.warn("Serialized outputs doesn't match model value! "+"Keeping the model value.");t.source=f.splitLines(this._merged.source.remote)}if(this.clearOutputs&&l.isCode(t)){t.outputs=[]}return t}processDecisions(e){if(e.length===1){if(f.arraysEqual(e[0].absolutePath,["cells"])){let t=e[0];e=this.applyCellLevelDecision(t);if(e.length===0){this.decisions.push(t)}}}for(let t of e){t.level=2;if(t.absolutePath.length<2||t.absolutePath[0]!=="cells"){throw new Error("Not a valid path for a cell decision")}else if(t.absolutePath.length===2&&(f.hasEntries(t.localDiff)||f.hasEntries(t.remoteDiff))){let e=o.pushPatchDecision(t,t.absolutePath.slice(1,2));let i=f.hasEntries(e.localDiff)?e.localDiff[0]:null;let l=f.hasEntries(e.remoteDiff)?e.remoteDiff[0]:null;let n=this.splitPatch(e,i,l);for(let t of n){t.level=2;this.decisions.push(t)}}else{this.decisions.push(t)}}}applyCellLevelDecision(e){let t=[];console.assert(!this.onesided,"Cannot have multiple cell decisions on one cell!");this.onesided=true;if(!f.hasEntries(e.localDiff)){this._local=null;if(!e.remoteDiff||e.remoteDiff.length!==1){throw new Error("Merge decision does not conform to expectation: "+e)}if(this.base===null){let t=e.remoteDiff[0];if(t.op!=="addrange"){throw new Error("Merge decision does not conform to expectation: "+e)}let i=t.valuelist[0];this._remote=r.createAddedCellDiffModel(i,this.mimetype);this._merged=r.createAddedCellDiffModel(i,this.mimetype)}else{this._remote=r.createDeletedCellDiffModel(this.base,this.mimetype);this._merged=r.createDeletedCellDiffModel(this.base,this.mimetype);this.deleteCell=f.valueIn(e.action,["remote","either"])}}else if(!f.hasEntries(e.remoteDiff)){this._remote=null;if(!e.localDiff||e.localDiff.length!==1){throw new Error("Merge decision does not conform to expectation: "+e)}if(this.base===null){let t=e.localDiff[0];if(t.op!=="addrange"){throw new Error("Merge decision does not conform to expectation: "+e)}let i=t.valuelist[0];this._local=r.createAddedCellDiffModel(i,this.mimetype);this._merged=r.createAddedCellDiffModel(i,this.mimetype)}else{this._local=r.createDeletedCellDiffModel(this.base,this.mimetype);this._merged=r.createDeletedCellDiffModel(this.base,this.mimetype);this.deleteCell=f.valueIn(e.action,["local","either"])}}else{console.assert(f.hasEntries(e.localDiff)&&f.hasEntries(e.remoteDiff));console.assert(e.localDiff.length===1&&e.remoteDiff.length===1);if(e.localDiff[0].op===e.remoteDiff[0].op){if(this.base===null){let t=e.localDiff[0].valuelist[0];this._local=r.createAddedCellDiffModel(t,this.mimetype);this._remote=r.createAddedCellDiffModel(t,this.mimetype);this._merged=r.createAddedCellDiffModel(t,this.mimetype)}else{this._local=r.createDeletedCellDiffModel(this.base,this.mimetype);this._remote=r.createDeletedCellDiffModel(this.base,this.mimetype);this._merged=r.createDeletedCellDiffModel(this.base,this.mimetype);this.deleteCell=f.valueIn(e.action,["local","remote","either"])}}else{let i=[e.localDiff[0].op,e.remoteDiff[0].op];console.assert(f.valueIn("removerange",i)&&f.valueIn("patch",i));if(this.base===null){throw new Error("Invalid merge decision, "+"cannot have null base for deleted cell: "+e)}if(i[0]==="removerange"){this._local=r.createDeletedCellDiffModel(this.base,this.mimetype);this.deleteCell=e.action==="local";t=t.concat(this.splitPatch(e,null,e.remoteDiff[0]))}else{this._remote=r.createDeletedCellDiffModel(this.base,this.mimetype);this.deleteCell=e.action==="remote";t=t.concat(this.splitPatch(e,e.localDiff[0],null))}o.resolveCommonPaths(t)}}return t}splitPatch(e,t,i){let l=!!t&&f.hasEntries(t.diff);let n=!!i&&f.hasEntries(i.diff);if(!l&&!n){return[]}let r=l?t.diff:null;let a=n?i.diff:null;let u=[];let c=[];if(l){for(let e of r){c.push(e.key)}}if(n){for(let e of a){c.push(e.key)}}c=c.filter(f.unique);if(l&&n){if(t.key!==i.key){throw new Error("Different keys of patch ops given to `splitPatch`.")}}let h=l?t.key:i.key;for(let g of c){if(this._whitelist&&!f.valueIn(g,this._whitelist)){throw new d.NotifyUserError('Currently not able to handle decisions on variable "'+g+'"')}let t=s.getDiffEntryByKey(r,g);let i=s.getDiffEntryByKey(a,g);let l=!(t&&i);let n=e.action;if(n==="base"&&l){n=t?"local":"remote"}u.push(new o.MergeDecision(e.absolutePath.concat([h]),t?[t]:null,i?[i]:null,n,e.conflict))}let p=this.splitOnSourceChunks(u);o.resolveCommonPaths(p);return f.stableSort(p,o.decisionSortKey)}splitOnSourceChunks(e){let t=[];for(let i=0;i<e.length;++i){let l=e[i];if(l.absolutePath[2]==="source"){let e=this.base.source;if(!Array.isArray(e)){e=f.splitLines(e)}l.level=3;let i=u.splitMergeDecisionsOnChunks(e,[l]);o.resolveCommonPaths(i);t=t.concat(f.stableSort(i,o.decisionSortKey))}else{t.push(l)}}return t}createDiffModel(e){if(this.base===null){throw new Error("Cannot create a patched or unchanged diff model with null base!")}if(e&&e.length>0){return r.createPatchedCellDiffModel(this.base,e,this.mimetype)}else{return r.createUnchangedCellDiffModel(this.base,this.mimetype)}}createMergedDiffModel(){if(this.base===null){throw new Error("Cannot create a patched or unchanged merged diff model with null base!")}return h(this.base,this.decisions,this.local,this.remote,this.mimetype)}}t.CellMergeModel=p},71833:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ObjectMergeModel=t.DecisionStringDiffModel=void 0;const l=i(8799);const n=i(63127);const s=i(51604);const r=i(78049);const o=i(88787);class a extends n.StringDiffModel{constructor(e,t,i,l,n,s){let r=o.stringifyAndBlankNull(e);super(r,"",[],[],l,n,s);this.rawBase=e;this.decisions=t;this._outdated=true;this._sourceModels=i;this._update()}get additions(){if(this._outdated){this._update()}return this._additions}set additions(e){this._additions=e}get deletions(){if(this._outdated){this._update()}return this._deletions}set deletions(e){this._deletions=e}get remote(){if(this._outdated){this._update()}return this._remote}set remote(e){this._remote=e}invalidate(){this._outdated=true}get invalid(){return this._outdated}getLineChunks(){let e=[this];e=e.concat(this._sourceModels);let t=new r.LineChunker;let i=new n.StringDiffModel.SyncedDiffIter(e);for(let l=i.next();l!==undefined;l=i.next()){if(i.currentModel()===this){t.addDiff(l.range,l.isAddition)}else{if(!l.range.source||l.range.source.decision.action!=="base"){continue}t.addGhost(l.range,l.isAddition,i.currentOffset)}}return t.chunks}_update(){this._outdated=false;let e=s.buildDiffs(this.rawBase,this.decisions,"merged");let t=o.patchStringified(this.rawBase,e);this._additions=l.raw2Pos(t.additions,t.remote);this._deletions=l.raw2Pos(t.deletions,this.base||"");this._remote=t.remote}}t.DecisionStringDiffModel=a;class f{constructor(e,t,i,l){this._finalized=false;this.base=e;this.mimetype=i;this._whitelist=l||null;this.decisions=t}serialize(){if(this.base===null){return null}return s.applyDecisions(this.base,this.decisions)}get local(){if(this._local===undefined){this._finalizeDecisions();let e=s.buildDiffs(this.base,this.decisions,"local");this._local=this.createDiffModel(e)}return this._local}get remote(){if(this._remote===undefined){this._finalizeDecisions();let e=s.buildDiffs(this.base,this.decisions,"remote");this._remote=this.createDiffModel(e)}return this._remote}get merged(){if(this._merged===undefined){this._finalizeDecisions();this._merged=this.createMergedDiffModel()}return this._merged}get subModels(){return[this.local,this.remote,this.merged]}_finalizeDecisions(){if(!this._finalized){for(let e of this.decisions){if(e.action==="either"){r.labelSource(e.localDiff,{decision:e,action:"either"});r.labelSource(e.remoteDiff,{decision:e,action:"either"})}else{r.labelSource(e.localDiff,{decision:e,action:"local"});r.labelSource(e.remoteDiff,{decision:e,action:"remote"})}r.labelSource(e.customDiff,{decision:e,action:"custom"})}this._finalized=true}}}t.ObjectMergeModel=f},95118:function(e,t,i){"use strict";var l=this&&this.__createBinding||(Object.create?function(e,t,i,l){if(l===undefined)l=i;Object.defineProperty(e,l,{enumerable:true,get:function(){return t[i]}})}:function(e,t,i,l){if(l===undefined)l=i;e[l]=t[i]});var n=this&&this.__exportStar||function(e,t){for(var i in e)if(i!=="default"&&!t.hasOwnProperty(i))l(t,e,i)};Object.defineProperty(t,"__esModule",{value:true});n(i(28580),t);n(i(71833),t);n(i(90617),t);n(i(71522),t)},90617:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MetadataMergeModel=void 0;const l=i(63127);const n=i(71833);const s=i(91100);class r extends n.ObjectMergeModel{constructor(e,t){super(e,t,"application/json")}serialize(){if(!this.merged||this.merged.remote===null){throw new Error("Missing notebook metadata merge data.")}return JSON.parse(this.merged.remote)}createDiffModel(e){if(e&&e.length>0){return l.createPatchStringDiffModel(this.base,e)}else{const e=s.JSONExt.deepCopy(this.base);return l.createDirectStringDiffModel(e,e)}}createMergedDiffModel(){return new n.DecisionStringDiffModel(this.base,this.decisions,[this.local,this.remote])}}t.MetadataMergeModel=r},71522:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NotebookMergeModel=void 0;const l=i(28439);const n=i(51604);const s=i(78049);const r=i(88787);const o=i(28580);const a=i(90617);class f{constructor(e,t){this.base=e;let i=this.constructor;let l=i.preprocessDecisions(t);let s;try{s=e.metadata.language_info.mimetype}catch(o){}this.mimetype=s||"text/python";this.cells=this.buildCellList(l);let r=n.filterDecisions(l,["metadata"]);this.metadata=new a.MetadataMergeModel(e.metadata,r);this.unsavedChanges=false}static preprocessDecisions(e){let t=[];for(let i of e){t.push(new n.MergeDecision(i))}t=c(t);t=h(t);t=p(t);t=d(t);n.resolveCommonPaths(t);for(let i of t){if(i.action==="either"){s.labelSource(i.localDiff,{decision:i,action:"either"});s.labelSource(i.remoteDiff,{decision:i,action:"either"})}else{s.labelSource(i.localDiff,{decision:i,action:"local"});s.labelSource(i.remoteDiff,{decision:i,action:"remote"})}s.labelSource(i.customDiff,{decision:i,action:"custom"})}return t}serialize(){let e={};for(let i in this.base){if(!l.valueIn(i,["cells","metadata"])){e[i]=this.base[i]}}e["metadata"]=this.metadata.serialize();let t=[];for(let i of this.cells){let e=i.serialize();if(e!==null){t.push(e)}}e["cells"]=t;return e}get decisions(){let e=[];for(let t of this.cells){e=e.concat(t.decisions)}e=e.concat(this.metadata.decisions);return e}get conflicts(){let e=[];for(let t of this.decisions){if(t.conflict){e.push(t)}}return e}buildCellList(e){let t=[];for(let l of this.base.cells){t.push({base:l,decisions:[]})}let i=0;for(let s of e){let e=s.absolutePath;if(e.length<1||e[0]!=="cells"){continue}if(l.arraysEqual(e,["cells"])){let e=null;let l=false;for(let r of s.diffs){if(!r||r.length===0){continue}e=r[0].key;if(r[0].op==="addrange"){let n=i+e;t.splice(n,0,{base:null,decisions:[s]});i+=1;l=true;break}}if(l){continue}if(e===null){throw new Error("No index could be found for merge decision!")}let n=t[e+i].decisions;n.push(s)}else{let i=e[1];let l=t[i].decisions;l.push(s)}}let n=[];for(let l of t){n.push(new o.CellMergeModel(l.base,l.decisions,this.mimetype))}return n}}t.NotebookMergeModel=f;function u(e){return!!e&&e.length===2&&e[0].key===e[1].key}function c(e){let t=[];for(let i of e){if(l.arraysEqual(i.absolutePath,["cells"])){if(i.localDiff&&!i.remoteDiff){for(let e of i.localDiff){let l=new n.MergeDecision(i);l.localDiff=[e];t.push(l)}}else if(i.remoteDiff&&!i.localDiff){for(let e of i.remoteDiff){let l=new n.MergeDecision(i);l.absolutePath=i.absolutePath.slice();l.remoteDiff=[e];t.push(l)}}else if(u(i.localDiff)){if(u(i.remoteDiff)){let e=new n.MergeDecision(i);e.localDiff=i.localDiff.slice(0,1);e.remoteDiff=i.remoteDiff.slice(0,1);t.push(e);t.push(new n.MergeDecision(i.absolutePath.slice(),i.localDiff.slice(1),i.remoteDiff.slice(1),"either"))}else{let e=new n.MergeDecision(i);e.localDiff=i.localDiff.slice(0,1);t.push(e);t.push(new n.MergeDecision(i.absolutePath.slice(),i.localDiff.slice(1),[],"local",i.conflict))}}else if(u(i.remoteDiff)){let e=new n.MergeDecision(i);e.remoteDiff=i.remoteDiff.slice(0,1);t.push(e);t.push(new n.MergeDecision(i.absolutePath.slice(),[],i.remoteDiff.slice(1),"remote",i.conflict))}else if(l.hasEntries(i.remoteDiff)&&l.hasEntries(i.localDiff)){const e=[i.remoteDiff[0].op,i.localDiff[0].op].sort();if(e.join(",")==="addrange,removerange"){let e=new n.MergeDecision(i);e.action="local";e.localDiff=i.localDiff.slice();e.remoteDiff=null;t.push(e);let l=new n.MergeDecision(i);l.action="remote";l.localDiff=null;l.remoteDiff=i.remoteDiff.slice();t.push(l)}else{t.push(i)}}else{t.push(i)}}else{t.push(i)}}n.resolveCommonPaths(t);return t}function d(e){let t=[];for(let i of e){if(!l.arraysEqual(i.absolutePath,["cells"])){t.push(i);continue}let e=l.hasEntries(i.localDiff)?i.localDiff:null;let s=l.hasEntries(i.remoteDiff)?i.remoteDiff:null;if(e&&e.length<2&&s&&s.length<2){t.push(i);continue}let r=Math.max(e?e.length:0,s?s.length:0);for(let l=0;l<r;++l){let r=e&&l<e.length?[e[l]]:null;let o=s&&l<s.length?[s[l]]:null;t.push(new n.MergeDecision(i.absolutePath.slice(),r,o,i.action,i.conflict))}}return l.stableSort(t,n.decisionSortKey)}function h(e){let t=[];let i=function(e,t,i,l){let s=new n.MergeDecision(e.absolutePath.slice(),null,null,e.action,e.conflict);let r=[{key:t,op:"removerange",length:1}];console.assert(i||l);if(i){s.localDiff=r}if(l){s.remoteDiff=r}return s};for(let n of e){if(!l.arraysEqual(n.absolutePath,["cells"])){t.push(n);continue}let e=l.hasEntries(n.localDiff)?n.localDiff[n.localDiff.length-1]:null;let s=l.hasEntries(n.remoteDiff)?n.remoteDiff[n.remoteDiff.length-1]:null;if(e&&!s||s&&!e){let l=e?e:s;if(l.op==="removerange"&&l.length>1){for(let r=0;r<l.length;++r){t.push(i(n,l.key+r,!!e,!!s))}}else{t.push(n);continue}}else if(s&&e){if(e.op!=="removerange"&&s.op!=="removerange"){t.push(n);continue}else if(e.op===s.op){let l=e.key;let r=s.key;let o=Math.min(l,r);let a=l+e.length;let f=r+s.length;let u=Math.max(a,f);for(let e=o;e<u;++e){let s=e>=l&&e<a;let o=e>=r&&e<f;t.push(i(n,e,s,o))}}else{let l=e.op==="removerange";let r=l?e:s;let o=l?s:e;console.assert(o.op==="patch");let a=o.key;let f=r.key;for(let e=f;e<f+r.length;++e){let s=i(n,e,l,!l);if(e===a){if(l){s.remoteDiff=[o]}else{s.localDiff=[o]}}t.push(s)}}}}return t}function p(e){let t=[];let i=function(e,t,i,s){let r=new n.MergeDecision(e.absolutePath.slice(),null,null,e.action,e.conflict);if(i&&!l.hasEntries(e.localDiff)||!i&&!l.hasEntries(e.remoteDiff)){throw new Error("Invalid input: "+e)}let o=(i?e.localDiff:e.remoteDiff)[0].key;let a=[{key:o,op:"addrange",valuelist:[t]}];console.assert(i||s);if(i){r.localDiff=a}if(s){r.remoteDiff=a}return r};for(let n of e){if(!l.arraysEqual(n.absolutePath,["cells"])){t.push(n);continue}let e=true;if(n.localDiff){for(let t of n.localDiff){if(t.op!=="addrange"){e=false;break}}}if(n.remoteDiff){for(let t of n.remoteDiff){if(t.op!=="addrange"){e=false;break}}}if(!e){t.push(n);continue}let s=n.localDiff&&n.localDiff.length===1?n.localDiff[0]:null;let o=n.remoteDiff&&n.remoteDiff.length===1?n.remoteDiff[0]:null;if(s&&!o||o&&!s){let e=s?s:o;let l=e.valuelist;for(let r of l){t.push(i(n,r,!!s,!!o))}}else if(s&&o){let e=r.stringify(s.valuelist)===r.stringify(o.valuelist);if(e){for(let e of s.valuelist){t.push(i(n,e,true,true))}}else{let e=s.key;console.assert(e===o.key);if(n.action==="remote_then_local"){for(let e of o.valuelist){const l=i(n,e,false,true);l.action="remote";t.push(l)}for(let e of s.valuelist){const l=i(n,e,true,false);l.action="local";t.push(l)}}else{for(let e of s.valuelist){const l=i(n,e,true,false);l.action="local";t.push(l)}for(let e of o.valuelist){const l=i(n,e,false,true);l.action="remote";t.push(l)}}}}}return t}},49858:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PatchObjectHelper=void 0;const l=i(28439);class n{constructor(e,t){this._diffLUT={};let i=[];if(t){for(let e of t){i.push(e.key);this._diffLUT[e.key]=e}}this._diffKeys=i;this.baseKeys=s(e)}isDiffKey(e){return l.valueIn(e,this._diffKeys)}getDiffEntry(e){return this._diffLUT[e]}entriesAfterCurrentAddRem(){if(this._currentIsAddition===undefined){throw new Error("Current op is not an add or remove op")}let e=this._currentIsAddition?"remove":"add";for(let t of this._remainingKeys){if(!l.valueIn(t,this._diffKeys)){return true}else if(this._diffLUT[t].op!==e){return true}}return false}iter(){this._remainingKeys=this.baseKeys.concat(this._diffKeys).filter(l.unique).sort();return this}keys(){return this}next(){let e=this._remainingKeys.shift();if(e&&l.valueIn(e,this._diffKeys)){let t=this._diffLUT[e].op;if(t==="add"){this._currentIsAddition=true}else if(t==="remove"){this._currentIsAddition=false}else{this._currentIsAddition=undefined}}return e}clone(){let e=new n({},null);e.baseKeys=this.baseKeys;e._diffKeys=this._diffKeys;e._currentIsAddition=this._currentIsAddition;e._diffLUT=this._diffLUT;e._remainingKeys=this._remainingKeys.slice();return e}}t.PatchObjectHelper=n;let s=Object.keys||function(e){let t=Object.prototype.hasOwnProperty||function(){return true};let i=[];for(let l in e){if(t.call(e,l)){i.push(l)}}return i}},92868:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.patch=void 0;const l=i(91100);const n=i(28439);const s=i(44632);const r=i(4425);function o(e,t){if(typeof e==="string"){return r.patchString(e,t,0,false).remote}else if(Array.isArray(e)){const i=l.JSONExt.deepCopy(e);return a(i,t)}else if(typeof e==="number"||typeof e==="boolean"){throw new TypeError("Cannot patch an atomic type: "+typeof e)}else if(e===null){throw new TypeError("Cannot patch a null base!")}else{const i=l.JSONExt.deepCopy(e);return f(i,t)}}t.patch=o;function a(e,t){if(t===null){return n.deepCopy(e)}let i=[];let l=0;let r=0;for(let a of t){s.validateSequenceOp(e,a);let t=a.key;for(let s of e.slice(l,t)){i.push(n.deepCopy(s))}if(a.op==="addrange"){i=i.concat(a.valuelist);r=0}else if(a.op==="removerange"){r=a.length}else if(a.op==="patch"){i.push(o(e[t],a.diff));r=1}l=Math.max(l,t+r)}for(let s of e.slice(l)){i.push(n.deepCopy(s))}return i}function f(e,t){let i={};let l=Object.keys(e);if(t){for(let n of t){s.validateObjectOp(e,n,l);let t=n.key;if(n.op==="add"){i[t]=n.value}else if(n.op==="remove"){l.splice(l.indexOf(t),1)}else if(n.op==="replace"){l.splice(l.indexOf(t),1);i[t]=n.value}else if(n.op==="patch"){l.splice(l.indexOf(t),1);i[t]=o(e[t],n.diff)}}}for(let s of l){i[s]=n.deepCopy(e[s])}return i}},88787:function(e,t,i){"use strict";var l=this&&this.__createBinding||(Object.create?function(e,t,i,l){if(l===undefined)l=i;Object.defineProperty(e,l,{enumerable:true,get:function(){return t[i]}})}:function(e,t,i,l){if(l===undefined)l=i;e[l]=t[i]});var n=this&&this.__exportStar||function(e,t){for(var i in e)if(i!=="default"&&!t.hasOwnProperty(i))l(t,e,i)};Object.defineProperty(t,"__esModule",{value:true});n(i(49858),t);n(i(92868),t);n(i(4425),t)},4425:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.patchString=t.patchStringified=t.stringifyAndBlankNull=t.stringify=void 0;const l=i(54522);const n=i(28439);const s=i(94526);const r=i(44632);const o=i(8799);const a=i(49858);const f=i(67266);function u(e,t,i=true){let l=f(e,{space:s.JSON_INDENT});if(t){l=m(l,t,i)}return l}t.stringify=u;function c(e){if(typeof e==="string"){return e}else if(e===null){return""}else{return u(e)}}t.stringifyAndBlankNull=c;function d(e,t,i){if(i===undefined){i=0}if(typeof e==="string"){let l=i>0;return h(e,t,i,l)}else if(Array.isArray(e)){return g(e,t,i)}else if(typeof e==="number"||typeof e==="boolean"){throw new TypeError("Cannot patch an atomic type: "+typeof e)}else if(e===null){throw new TypeError("Cannot patch a null base!")}else{return p(e,t,i)}}t.patchStringified=d;function h(e,t,i,l){let n=[];let r=[];let a=0;if(t===null){return{remote:l?u(e,i):e,additions:n,deletions:r}}t=s.flattenStringDiff(e,t);let f=0;let c=0;let d="";for(let s of t){let t=s.key;let i=e.slice(f,t);d+=i;a+=i.length;if(s.op==="addrange"){let e=s.valuelist;n.push(new o.DiffRangeRaw(d.length,e.length,s.source));d+=e;c=0}else if(s.op==="removerange"){c=s.length;r.push(new o.DiffRangeRaw(a,c,s.source));a+=c}f=Math.max(f,t+c)}d+=e.slice(f,e.length);if(l){d=u(d,i);D(i*s.JSON_INDENT.length+1,n,r);b(d,n);b(u(e,i),r)}return{remote:d,additions:n,deletions:r}}t.patchString=h;function p(e,t,i){let f="";let c=[];let h=[];let p=",\n";let g=0;if(t===null){return{remote:u(e,i),additions:c,deletions:h}}let m=new a.PatchObjectHelper(e,t);let b=m.baseKeys.slice();l.each(m.keys(),(t=>{let l=y(t,i+1);if(m.isDiffKey(t)){let a=m.getDiffEntry(t);r.validateObjectOp(e,a,b);if(n.valueIn(a.op,["add","replace","remove"])){let n=a.op==="replace";if(a.op==="add"||a.op==="replace"){let e=u(a.value,i+1,false)+p;let t=f.length;let s=e.length;if(n){t+=l.length}else{s+=l.length}if(n||!m.entriesAfterCurrentAddRem()){s-=p.length;if(a.op==="add"){s+=1}}c.push(new o.DiffRangeRaw(t,s,a.source));f+=l+e}if(a.op==="remove"||a.op==="replace"){let s=u(e[t],i+1,false)+p;let r=g;let f=s.length;if(n){r+=l.length}else{f+=l.length}if(n||!m.entriesAfterCurrentAddRem()){f-=p.length;if(a.op==="remove"){f+=1}}h.push(new o.DiffRangeRaw(r,f,a.source));g+=l.length+s.length;b.splice(b.indexOf(t),1)}}else if(a.op==="patch"){let n=d(e[t],a.diff,i+1);let r=n.remote;r=l+r.slice((i+1)*s.JSON_INDENT.length)+p;let o=f.length+l.length-(i+1)*s.JSON_INDENT.length;D(o,n.additions,n.deletions);f+=r;c=c.concat(n.additions);h=h.concat(n.deletions);g+=u(e[t],i+1,false).length+l.length+p.length;b.splice(b.indexOf(t),1)}}else{let n=l+u(e[t],i+1,false)+p;f+=n;g+=n.length}}));if(f.slice(f.length-p.length)===p){f=f.slice(0,f.length-p.length)}let w=n.repeatString(s.JSON_INDENT,i);f=w+"{\n"+f+"\n"+w+"}";D(w.length+2,c,h);return{remote:f,additions:c,deletions:h}}function g(e,t,i){let l="";let a=[];let f=[];let c=0;let h=",\n";if(t===null){return{remote:u(e,i),additions:a,deletions:f}}let p=0;let g=0;for(let n of t){r.validateSequenceOp(e,n);let t=n.key;for(;t>p;p++){let t=u(e[p],i+1)+h;l+=t;c+=t.length}if(n.op==="addrange"){let s="";for(let e of n.valuelist){s+=u(e,i+1)+h}let r=s.length;if(t===e.length){r-=1}a.push(new o.DiffRangeRaw(l.length,r,n.source));l+=s;g=0}else if(n.op==="removerange"){let l="";let s=n.length;for(let n=t;n<t+s;n++){l+=u(e[n],i+1)+h}let r=l.length;if(s+t===e.length){r-=1}f.push(new o.DiffRangeRaw(c,r,n.source));c+=l.length;g=n.length}else if(n.op==="patch"){let s=d(e[t],n.diff,i+1);g=1;let r=s.remote+h;D(l.length,s.additions,s.deletions);a=a.concat(s.additions);f=f.concat(s.deletions);c+=u(e[t],i+1).length;l+=r}p=Math.max(p,t+g)}for(;e.length>p;p++){l+=u(e[p],i+1)+h}if(l.slice(l.length-h.length)===h){l=l.slice(0,l.length-h.length)}let m=n.repeatString(s.JSON_INDENT,i);l=m+"[\n"+l+"\n"+m+"]";D(m.length+2,a,f);return{remote:l,additions:a,deletions:f}}function m(e,t,i){i=i!==false;let l=e.split("\n");let r=new Array(l.length);if(!i){r[0]=l[0]}for(let o=i?0:1;o<l.length;o++){r[o]=n.repeatString(s.JSON_INDENT,t)+l[o]}return r.join("\n")}function y(e,t){return n.repeatString(s.JSON_INDENT,t)+'"'+e+'": '}function D(e,t,i){for(let l of t){l.offset(e)}for(let l of i){l.offset(e)}}function b(e,t){let i=['\\"',"\\\\","\\/","\\b","\\f","\\n","\\r","\\t"];let l=/\\uD[89A-Fa-f][0-9a-fA-F]{2}\\uD[c-fC-F][0-9a-fA-F]{2}/g;let n=/(?!\\uD[c-fC-F][0-9a-fA-F]{2})\\u(?!D[89A-Fa-f][0-9a-fA-F]{2})\d{4}/g;const s=2;const r=6;const o=12;let a=[];let f=[];for(let c of i){let t=JSON.parse('"'+c+'"').length;let i=0;while(1){i=e.indexOf(c,i);if(i<0){break}a.push(i);f.push(s-t);i++}}let u;while((u=n.exec(e))!==null){a.push(u.index);f.push(r-JSON.parse('"'+u[0]+'"').length)}while((u=l.exec(e))!==null){a.push(u.index);f.push(o-JSON.parse('"'+u[0]+'"').length)}for(let c=0;c<a.length;c++){for(let e of t){let t=a[c];let i=f[c];if(e.from>t){e.from+=i}if(e.to>t){e.to+=i}}}}},35206:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FlexLayout=void 0;const l=i(54522);const n=i(46843);const s=i(50497);const r="p-mod-left-to-right";const o="p-mod-right-to-left";const a="p-mod-top-to-bottom";const f="p-mod-bottom-to-top";class u extends s.PanelLayout{constructor(e={}){super();this.order=null;this._wrap=false;this._minimumSpacing=4;this._justifyContent=null;this._alignItems=null;this._alignContent=null;this._dirty=false;this._direction="top-to-bottom";this._stretchType=null;this._evenSizes=false;if(e.direction!==void 0){this._direction=e.direction}if(e.minimumSpacing!==void 0){this._minimumSpacing=c.clampSpacing(e.minimumSpacing)}if(e.wrap!==void 0){this._wrap=e.wrap}if(e.justifyContent!==void 0){this._justifyContent=e.justifyContent}if(e.alignItems!==void 0){this._alignItems=e.alignItems}if(e.alignContent!==void 0){this._alignContent=e.alignContent}if(e.stretchType!==void 0){this._stretchType=e.stretchType}if(e.evenSizes!==void 0){this._evenSizes=e.evenSizes}}get direction(){return this._direction}set direction(e){if(this._direction===e){return}this._direction=e;if(!this.parent){return}c.toggleDirection(this.parent,e);this.parent.fit()}get minimumSpacing(){return this._minimumSpacing}set minimumSpacing(e){e=c.clampSpacing(e);if(this._minimumSpacing===e){return}this._minimumSpacing=e;if(!this.parent){return}this.parent.node.style.flexWrap=e?"wrap":"nowrap";this.parent.fit()}get wrap(){return this._wrap}set wrap(e){if(this._wrap===e){return}this._wrap=e;if(!this.parent){return}this.parent.node.style.flexWrap=e?"wrap":"nowrap";this.parent.fit()}get justifyContent(){return this._justifyContent}set justifyContent(e){if(this._justifyContent===e){return}this._justifyContent=e;let t=c.translateFlexString(e);if(!this.parent){return}this.parent.node.style.justifyContent=t;this.parent.fit()}get alignItems(){return this._alignItems}set alignItems(e){if(this._alignItems===e){return}this._alignItems=e;let t=c.translateFlexString(e);if(!this.parent){return}this.parent.node.style.alignItems=t;this.parent.fit()}get alignContent(){return this._alignContent}set alignContent(e){if(this._alignContent===e){return}this._alignContent=e;let t=c.translateFlexString(e);if(!this.parent){return}this.parent.node.style.alignContent=t;if(this._wrap!==false){this.parent.fit()}}get stretchType(){return this._stretchType}set stretchType(e){if(this._stretchType===e){return}this._stretchType=e;if(!this.parent){return}this.parent.fit()}get evenSizes(){return this._evenSizes}set evenSizes(e){if(this._evenSizes===e){return}this._evenSizes=e;if(!this.parent){return}this.parent.fit()}isHorizontal(){return this.direction==="right-to-left"||this.direction==="left-to-right"}isVertical(){return!this.isHorizontal()}init(){c.toggleDirection(this.parent,this.direction);super.init()}attachWidget(e,t){super.attachWidget(e,t);if(this.order){l.ArrayExt.insert(this.order,e,t)}this.parent.fit()}moveWidget(e,t,i){if(e!==t){if(!this.order){this.order=this.widgets.slice()}l.ArrayExt.move(this.order,e,t);this._dirty=true}this.parent.update()}detachWidget(e,t){if(this.order){let e=0;for(;e<this.order.length;++e){if(t===this.order[e]){l.ArrayExt.removeAt(this.order,e);break}}}super.detachWidget(e,t);this.parent.fit()}onAfterShow(e){super.onAfterShow(e);this.parent.update()}onAfterAttach(e){super.onAfterAttach(e);c.toggleDirection(this.parent,this._direction);let t=this.parent.node.style;t.flexWrap=this._wrap?"wrap":"nowrap";t.justifyContent=c.translateFlexString(this._justifyContent)||"";t.alignContent=c.translateFlexString(this._alignContent)||"";t.alignItems=c.translateFlexString(this._alignItems)||"";this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){if(this.parent.isVisible){this._update()}}onUpdateRequest(e){if(this.parent.isVisible){this._update()}}onFitRequest(e){if(this.parent.isAttached){this._fit()}}_fit(){this._dirty=true;let e=this.parent.parent;if(e){n.MessageLoop.sendMessage(e,s.Widget.Msg.FitRequest)}if(this._dirty){n.MessageLoop.sendMessage(this.parent,s.Widget.Msg.UpdateRequest)}}_update(){this._dirty=false;let e=this.order||this.widgets;if(e.length===0){return}let t=this.minimumSpacing.toString()+"px";if(this.isHorizontal()){for(let i=0;i<e.length-1;++i){e[i].node.style.marginRight=t}}else{for(let i=0;i<e.length-1;++i){e[i].node.style.marginBottom=t}}if(this._evenSizes||this.stretchType){let t=null;let i=null;let l=null;if(this._evenSizes){t=0;i=1}else{switch(this._stretchType){case"grow":i=1;l=0;break;case"shrink":i=0;l=1;break;case"both":i=1;l=1;break;case"fixed":i=0;l=0;break;default:throw new TypeError("Invalid stretch type: "+this._stretchType)}}for(let n=0;n<e.length;++n){let s=e[n].node.style;if(t!==null){s.flexBasis=t.toString()}if(i!==null){s.flexGrow=i.toString()}if(l!==null){s.flexShrink=l.toString()}}}for(let i=0;i<e.length;++i){let t=e[i];t.node.style.order=this.order?i.toString():""}}}t.FlexLayout=u;(function(e){function t(e){let t=e.node.style.flexGrow;return t?parseInt(t,10):null}e.getGrow=t;function i(e,t,i=true){e.node.style.flexGrow=t===null?"":t.toString();if(i&&e.parent){e.parent.fit()}}e.setGrow=i;function l(e){let t=e.node.style.flexShrink;return t?parseInt(t,10):null}e.getShrink=l;function n(e,t,i=true){e.node.style.flexShrink=t===null?"":t.toString();if(i&&e.parent){e.parent.fit()}}e.setShrink=n;function s(e){let t=e.node.style.flexBasis;if(t==="auto"){return"auto"}else{return t?parseInt(t.replace("px",""),10):null}}e.getSizeBasis=s;function r(e,t,i=true){if(t==="auto"){e.node.style.flexBasis=t}else if(t===null){e.node.style.flexBasis=""}else{e.node.style.flexBasis=t.toString()+"px"}if(i&&e.parent){e.parent.fit()}}e.setSizeBasis=r})(u=t.FlexLayout||(t.FlexLayout={}));var c;(function(e){function t(e){return e==="left-to-right"||e==="right-to-left"}e.isHorizontal=t;function i(e){if(e==="start"||e==="end"){e="flex-"+e}return e}e.translateFlexString=i;function l(e,t){e.toggleClass(r,t==="left-to-right");e.toggleClass(o,t==="right-to-left");e.toggleClass(a,t==="top-to-bottom");e.toggleClass(f,t==="bottom-to-top")}e.toggleDirection=l;function n(e){return Math.max(0,Math.floor(e))}e.clampSpacing=n})(c||(c={}))},5168:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FlexPanel=void 0;const l=i(35206);const n=i(50497);const s="p-FlexPanel";const r="p-FlexPanel-child";class o extends n.Panel{constructor(e={}){super({layout:a.createLayout(e)});if(!e.layout){if(e.minimumSpacing!==void 0){this.minimumSpacing=e.minimumSpacing}if(e.direction!==void 0){this.direction=e.direction}}this.addClass(s)}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get minimumSpacing(){return this.layout.minimumSpacing}set minimumSpacing(e){this.layout.minimumSpacing=e}get wrap(){return this.layout.wrap}set wrap(e){this.layout.wrap=e}get justifyContent(){return this.layout.justifyContent}set justifyContent(e){this.layout.justifyContent=e}get alignItems(){return this.layout.alignItems}set alignItems(e){this.layout.alignItems=e}get alignContent(){return this.layout.alignContent}set alignContent(e){this.layout.alignContent=e}get stretchType(){return this.layout.stretchType}set stretchType(e){this.layout.stretchType=e}get evenSizes(){return this.layout.evenSizes}set evenSizes(e){this.layout.evenSizes=e}onChildAdded(e){e.child.addClass(r)}onChildRemoved(e){e.child.removeClass(r)}onAfterAttach(e){super.onAfterAttach(e);this.fit()}}t.FlexPanel=o;(function(e){function t(e){return l.FlexLayout.getGrow(e)}e.getGrow=t;function i(e,t){l.FlexLayout.setGrow(e,t)}e.setGrow=i;function n(e){return l.FlexLayout.getShrink(e)}e.getShrink=n;function s(e,t){l.FlexLayout.setShrink(e,t)}e.setShrink=s;function r(e){return l.FlexLayout.getSizeBasis(e)}e.getSizeBasis=r;function o(e,t){l.FlexLayout.setSizeBasis(e,t)}e.setSizeBasis=o})(o=t.FlexPanel||(t.FlexPanel={}));var a;(function(e){function t(e){return e.layout||new l.FlexLayout(e)}e.createLayout=t})(a||(a={}))}}]);
//# sourceMappingURL=7842.4ffbf1e30cc4edb84325.js.map?v=4ffbf1e30cc4edb84325